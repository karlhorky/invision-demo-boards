//!file:main.js
var InVision=angular.module("InVision",["ngRoute","ngSanitize"]);!function(ng,app){app.config(function($locationProvider,$routeProvider){$locationProvider.hashPrefix(""),$routeProvider.when("/overview",{action:"overview"}).when("/people",{action:"people"}).when("/browse",{action:"browse"}).when("/items",{redirectTo:"/items/list"}).when("/items/list",{action:"items.list"}).when("/items/:itemID",{action:"items.detail"}).when("/comments",{action:"comments"}).when("/redirect",{action:"redirect"}).when("/thank-you",{action:"thanks"}).otherwise({redirectTo:function(routeParams,path,search){return"/overview"}})}).run(function($log,$rootScope,$route,$routeParams,requestContext){$rootScope.$on("$routeChangeSuccess",function(event,currentRoute,previousRoute){return $route.current.action?(requestContext.setContext($route.current.action,$routeParams),void $rootScope.$broadcast("requestContextChanged",requestContext)):void $log.warn("Route does not have an action.")})}),app.run(function($log,appConfig){$log.info("Application Loaded"),$log.info(appConfig);var node=jQuery("#pre-boostrap-loading").addClass("fade-out");setTimeout(function(){node.remove()},1e3)})}(angular,InVision);;
//!file:key-commands-helper.js
!function(ng,app){"use strict";function buildOsModifier(){var macOsPattern=/Mac|iPod|iPhone|iPad/;return macOsPattern.test(window.navigator.platform)?{"long":"Command","short":"Cmd",key:"meta"}:{"long":"Control","short":"Ctrl",key:"control"}}function keyCommandsHelperFactory(){function getKeyFromEvent(event){var key=event.key||event.keyIdentifier||"Unidentified";0===key.indexOf("U+")&&(key=String.fromCharCode(parseInt(key.slice(2),16)));var mappedKey=(KEY_MAP[key]||key).toLowerCase(),parts=[mappedKey];return event.altKey&&"alt"!==mappedKey&&parts.push("Alt"),event.ctrlKey&&"control"!==mappedKey&&parts.push("Control"),event.metaKey&&"meta"!==mappedKey&&parts.push("Meta"),event.shiftKey&&"shift"!==mappedKey&&parts.push("Shift"),normalizeKey(parts.join("."))}function getOsModifier(){return OS_MODIFIER}function isEvent(event,key){return getKeyFromEvent(event)===normalizeKey(key)}function isEventFromInput(event){if(event.target&&event.target.nodeName)switch(event.target.nodeName){case"INPUT":case"SELECT":case"TEXTAREA":return!0;default:return!1}return!1}function normalizeKey(key){return normalizedKeys[key]||(normalizedKeys[key]=key.toLowerCase().split(".").map(function(segment){return KEY_ALIAS[segment]||segment}).sort().join(".")),normalizedKeys[key]}var normalizedKeys=Object.create(null);return{getKeyFromEvent:getKeyFromEvent,getOsModifier:getOsModifier,isEvent:isEvent,isEventFromInput:isEventFromInput,normalizeKey:normalizeKey}}var OS_MODIFIER=buildOsModifier(),KEY_ALIAS={command:"meta",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",left:"arrowleft",mod:OS_MODIFIER.key,modify:OS_MODIFIER.key,right:"arrowright",up:"arrowup"},KEY_MAP={"\b":"Backspace","	":"Tab","":"Delete","":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"," ":"Space",Spacebar:"Space",".":"Dot"};app.factory("keyCommandsHelper",keyCommandsHelperFactory)}(angular,InVision);;
//!file:key-commands-service.js
!function(ng,app){"use strict";function KeyCommandsFactory($document,$rootScope,keyCommandsHelper){function listen(bindings,options){options=options||{};var listener={bindings:normalizeBindings(bindings),priority:options.priority||0,isTerminal:normalizeIsTerminal(options.isTerminal),terminalWhitelist:normalizeTerminalWhitelist(options.terminalWhitelist),allowInputCapture:normalizeAllowInputCapture(options.allowInputCapture),allowInputCaptureTest:normalizeAllowInputCaptureTest(options.allowInputCaptureTest)};return addListener(listener),function(){removeListener(listener)}}function addListener(listenerToAdd){listeners.push(listenerToAdd),listeners.sort(function(a,b){return a.priority===b.priority?0:a.priority>b.priority?-1:1})}function handleKeyboardEvent(event){for(var listenersCopy=listeners.slice(),key=helper.getKeyFromEvent(event),isInputEvent=helper.isEventFromInput(event),listenerCount=listeners.length,handler=null,i=0;listenerCount>i;i++){var listener=listenersCopy[i];if(handler=listener.bindings[key]){if(!isInputEvent||listener.allowInputCapture||listener.allowInputCaptureTest&&listener.allowInputCaptureTest(event,key)){var result=$rootScope.$apply(function(){return handler(event)});if(result===!1)return;if(result===!0)continue}if("match"===listener.isTerminal)return}if(listener.isTerminal===!0&&!listener.terminalWhitelist[key])return}}function normalizeAllowInputCapture(allowInputCapture){return void 0===allowInputCapture?!1:allowInputCapture}function normalizeAllowInputCaptureTest(allowInputCaptureTest){return void 0===allowInputCaptureTest?null:allowInputCaptureTest}function normalizeBindings(bindings){var normalized=Object.create(null);for(var key in bindings)normalized[helper.normalizeKey(key)]=bindings[key];return normalized}function normalizeIsTerminal(isTerminal){return void 0===isTerminal?!0:isTerminal}function normalizeTerminalWhitelist(keys){var normalized=Object.create(null);return keys&&keys.forEach(function(key){normalized[helper.normalizeKey(key)]=!0}),normalized}function removeListener(listenerToRemove){listeners=listeners.filter(function(listener){return listener!==listenerToRemove})}var helper=keyCommandsHelper,listeners=[];return $document.on("keydown",handleKeyboardEvent),{listen:listen,getOsModifier:helper.getOsModifier}}app.factory("keyCommandsService",KeyCommandsFactory)}(angular,InVision);;
//!file:key-commands.directive.js
!function(ng,app){"use strict";function KeyCommandsDirective(_,keyCommandsHelper){function link(scope,element,attributes){function handleKeydownEvent(event){for(var command in keyCommandsConfig)if(keyCommandsHelper.isEvent(event,command))return event.preventDefault(),void scope.$apply(function(){scope.$eval(keyCommandsConfig[command],{$event:event,command:command})})}function init(){scope.$on("$destroy",function(){element.off("keydown",handleKeydownEvent)}),element.on("keydown",handleKeydownEvent)}var keyCommandsConfig=_.assign(Object.create(null),scope.$eval(attributes.invKeyCommands));init()}return{link:link,restrict:"A"}}app.directive("invKeyCommands",KeyCommandsDirective),[{directive:"invKeyCommandEnter",command:"Enter"},{directive:"invKeyCommandModEnter",command:"Mod.Enter"},{directive:"invKeyCommandEscape",command:"Escape"}].forEach(function(settings){function SingleKeyCommandDirective(_,keyCommandsHelper){function link(scope,element,attributes){function handleKeydownEvent(event){keyCommandsHelper.isEvent(event,settings.command)&&(event.preventDefault(),scope.$apply(function(){scope.$eval(attributes[settings.directive],{$event:event,command:settings.command})}))}function init(){scope.$on("$destroy",function(){element.off("keydown",handleKeydownEvent)}),element.on("keydown",handleKeydownEvent)}init()}return{link:link,restrict:"A"}}app.directive(settings.directive,SingleKeyCommandDirective)})}(angular,InVision);;
//!file:date-helper.js
!function(ng,app){"use strict";function Service(){return this.dayAsStringMap=[{"long":"Sunday","short":"Sun"},{"long":"Monday","short":"Mon"},{"long":"Tuesday","short":"Tue"},{"long":"Wednesday","short":"Wed"},{"long":"Thursday","short":"Thr"},{"long":"Friday","short":"Fri"},{"long":"Saturday","short":"Sat"}],this.monthAsStringMap=[{"long":"January","short":"Jan"},{"long":"February","short":"Feb"},{"long":"March","short":"Mar"},{"long":"April","short":"Apr"},{"long":"May","short":"May"},{"long":"June","short":"Jun"},{"long":"July","short":"Jul"},{"long":"August","short":"Aug"},{"long":"September","short":"Sep"},{"long":"October","short":"Oct"},{"long":"November","short":"Nov"},{"long":"December","short":"Dec"}],this}app.service("dateHelper",Service);var MS_SECOND=1e3,MS_MINUTE=60*MS_SECOND,MS_HOUR=60*MS_MINUTE,MS_DAY=24*MS_HOUR,MS_MONTH=30*MS_DAY,MS_YEAR=365*MS_DAY,FROM_NOW_JUST_NOW=44*MS_SECOND,FROM_NOW_MINUTE=89*MS_SECOND,FROM_NOW_MINUTES=44*MS_MINUTE,FROM_NOW_HOUR=89*MS_MINUTE,FROM_NOW_HOURS=21*MS_HOUR,FROM_NOW_DAY=35*MS_HOUR,FROM_NOW_DAYS=25*MS_DAY,FROM_NOW_MONTH=45*MS_DAY,FROM_NOW_MONTHS=319*MS_DAY,FROM_NOW_YEAR=547*MS_DAY;Service.prototype={add:function(datetime,count,unit){var newDatetime=this.duplicate(datetime);switch(unit.toLowerCase()){case"y":newDatetime.setFullYear(newDatetime.getFullYear()+count);break;case"m":newDatetime.setMonth(newDatetime.getMonth()+count);break;case"d":newDatetime.setDate(newDatetime.getDate()+count);break;case"w":newDatetime.setDate(newDatetime.getDate()+7*count);break;case"h":newDatetime.setTime(newDatetime.getTime()+1e3*count*60*60);break;case"n":newDatetime.setTime(newDatetime.getTime()+1e3*count*60);break;case"s":newDatetime.setTime(newDatetime.getTime()+1e3*count);break;case"l":newDatetime.setTime(newDatetime.getTime()+count)}return newDatetime},addDays:function(datetime,dayCount){var newDatetime=this.duplicate(datetime);return newDatetime.setDate(newDatetime.getDate()+dayCount),newDatetime},addLeadingZero:function(value){return 1===value.toString().length?"0"+value:value},convertSecondsToMinutes:function(seconds,excludeZeroMinute){var minutes=Math.floor(seconds/60),remainingSeconds=seconds%60;return excludeZeroMinute===!0&&0===minutes?":"+this.addLeadingZero(remainingSeconds):minutes+":"+this.addLeadingZero(remainingSeconds)},duplicate:function(datetime){return new Date(datetime)},equals:function(date1,date2){return date1.getTime()===date2.getTime()},fromNow:function(date){var nowTick=Date.now(),dateTick=this.getTickCount(date);if(nowTick>=dateTick)var delta=nowTick-dateTick,prefix="",suffix=" ago";else var delta=dateTick-nowTick,prefix="in ",suffix="";return FROM_NOW_JUST_NOW>=delta?prefix+"a few seconds"+suffix:FROM_NOW_MINUTE>=delta?prefix+"a minute"+suffix:FROM_NOW_MINUTES>=delta?prefix+Math.ceil(delta/MS_MINUTE)+" minutes"+suffix:FROM_NOW_HOUR>=delta?prefix+"an hour"+suffix:FROM_NOW_HOURS>=delta?prefix+Math.ceil(delta/MS_HOUR)+" hours"+suffix:FROM_NOW_DAY>=delta?prefix+"a day"+suffix:FROM_NOW_DAYS>=delta?prefix+Math.ceil(delta/MS_DAY)+" days"+suffix:FROM_NOW_MONTH>=delta?prefix+"a month"+suffix:FROM_NOW_MONTHS>=delta?prefix+Math.ceil(delta/MS_MONTH)+" months"+suffix:FROM_NOW_YEAR>=delta?prefix+"a year"+suffix:prefix+Math.ceil(delta/MS_YEAR)+" years"+suffix},formatDate:function(datetime,dateMask){var self=this,date=this.removeTime(datetime),result=dateMask.replace(/M+|m+|d+|yyyy|yy/g,function($0){return self.getFormattedDatePart(date,$0)});return result},formatRecentDate:function(datetime,dateMask){var date=this.removeTime(datetime);return this.isToday(date)?"Today":this.isYesterday(date)?"Yesterday":this.formatDate(datetime,dateMask)},formatRecentDateWithTodayAsTime:function(datetime,dateMask,timeMask){var date=this.removeTime(datetime);return this.isToday(date)?this.formatTime(datetime,timeMask||"h:mm TT"):this.isYesterday(date)?"Yesterday":this.formatDate(datetime,dateMask||"mmm d, yyyy")},formatTime:function(datetime,timeMask){var self=this,date=this.duplicate(datetime),result=timeMask.replace(/H+|h+|m+|t+|T+/g,function($0){return self.getFormattedTimePart(date,$0)});return result},getDayOfWeekAsString:function(dayOfWeek,useShortVersion){return useShortVersion?this.dayAsStringMap[dayOfWeek]["short"]:this.dayAsStringMap[dayOfWeek]["long"]},getFormattedDatePart:function(datetime,pattern){switch(pattern){case"D":case"d":return datetime.getDate();case"DD":case"dd":return this.addLeadingZero(datetime.getDate());case"DDD":return this.getDayOfWeekAsString(datetime.getDay(),!0).toUpperCase();case"ddd":return this.getDayOfWeekAsString(datetime.getDay(),!0);case"dddd":return this.getDayOfWeekAsString(datetime.getDay(),!1);case"M":case"m":return datetime.getMonth()+1;case"MM":case"mm":return this.addLeadingZero(datetime.getMonth()+1);case"MMM":case"mmm":return this.getMonthAsString(datetime.getMonth(),!0);case"MMMM":case"mmmm":return this.getMonthAsString(datetime.getMonth(),!1);case"YY":case"yy":return this.addLeadingZero(datetime.getFullYear()%100);case"YYYY":case"yyyy":return datetime.getFullYear()}return pattern},getFormattedTimePart:function(datetime,pattern){switch(pattern){case"H":return datetime.getHours();case"HH":var value=datetime.getHours();return 10>value?"0"+value:value;case"h":var value=datetime.getHours()%12;return 0===value?12:value;case"hh":var value=datetime.getHours()%12;return value=0===value?12:value,10>value?"0"+value:value;case"M":case"MM":case"m":case"mm":var value=datetime.getMinutes();return 10>value?"0"+value:value;case"T":return datetime.getHours()<12?"A":"P";case"TT":return datetime.getHours()<12?"AM":"PM";case"t":return datetime.getHours()<12?"a":"p";case"tt":return datetime.getHours()<12?"am":"pm"}return pattern},getMonthAsString:function(month,useShortVersion){return useShortVersion?this.monthAsStringMap[month]["short"]:this.monthAsStringMap[month]["long"]},getTickCount:function(value){return value instanceof Date?value.getTime():value},isRecent:function(datetime,delta,unit){var cutoff=this.add(new Date,-delta,unit);return datetime>=cutoff},isToday:function(datetime){return this.equals(datetime,this.today())},isYesterday:function(datetime){return this.equals(datetime,this.yesterday())},notEquals:function(date1,date2){return!this.equals(date1,date2)},removeTime:function(datetime){var newDatetime=this.duplicate(datetime);return newDatetime.setHours(0),newDatetime.setMinutes(0),newDatetime.setSeconds(0),newDatetime.setMilliseconds(0),newDatetime},today:function(){return this.removeTime(new Date)},tomorrow:function(){return this.addDays(this.today(),1)},yesterday:function(){return this.addDays(this.today(),-1)},formatLastViewedAbbreviated:function(lastViewedAt){if(!lastViewedAt)return"";var string=this.fromNow(lastViewedAt);return"a few seconds ago"===string?string="just now":"a minute ago"===string?string="1m ago":"an hour ago"===string?string="1h ago":string.indexOf(" seconds")>=0?string=string.replace(" seconds","s"):string.indexOf(" minutes")>=0?string=string.replace(" minutes","m"):string.indexOf(" hours")>=0?string=string.replace(" hours","h"):string.indexOf(" days")>=0?string=string.replace(" days","d"):string.indexOf(" months")>=0?string=string.replace(" months","mo"):string.indexOf(" years")>=0&&(string=string.replace(" years","y")),"Viewed "+string}}}(angular,InVision);;
//!file:lodash.js
!function(ng,app,_,undefined){"use strict";function Factory(){return _.anyWithProperty=function(collection,name,value){var result=_.any(collection,function(item){return item[name]===value});return result},_.capitalizeFirstLetter=function(value){return value?value.slice(0,1).toUpperCase()+value.slice(1):""},_.clamp=function(value,minValue,maxValue){return Math.min(Math.max(value,minValue),maxValue)},_.coalesce=function(value,defaultValue){return null===value||value===undefined?defaultValue:value},_.containsWithProperty=function(collection,name,value){return!!this.findWithProperty(collection,name,value)},_.countWithProperty=function(collection,name,value){for(var count=0,i=0;i<collection.length;i++)collection[i][name]===value&&count++;return count},_.extendExistingProperties=function(destination,source){if(!destination||!source)return destination;var angularKeyPattern=new RegExp("^\\$+","i");for(var key in source)source.hasOwnProperty(key)&&destination.hasOwnProperty(key)&&!angularKeyPattern.test(key)&&!_.isFunction(source[key])&&(destination[key]=source[key]);return destination},_.filterWithProperty=function(collection,name,value){var filteredCollection=_.filter(collection,function(item){return item[name]===value});return filteredCollection},_.findWithProperty=function(collection,name,value){var result=_.find(collection,function(item){return item[name]===value});return result},_.findWithPropertyAndReplace=function(collection,name,value,replacement,operator){if(!collection||replacement===undefined)return collection;operator=operator||ng.noop;for(var i=0,length=collection.length;length>i;i++){var item=collection[i];if(item[name]===value)return collection[i]=operator(replacement,item)||replacement,collection}return collection.push(replacement),collection},_.indexOfWithProperty=function(collection,name,value){for(var i=0;i<collection.length;i++)if(collection[i][name]===value)return i;return-1},_.isValidEmail=function(value){var pattern=/^[^@]+@[^.]+(\.[^.]+)+$/i;return pattern.test(value)},_.keysWithTruthyValues=function(collection){var keys=_.keys(collection).filter(function(key){return collection[key]});return keys},_.notContainsProperty=function(collection,name,value){var filteredCollection=this.filter(collection,function(item){return!_.contains(item[name].toLowerCase(),value.toLowerCase())});return filteredCollection},_.maxProperty=function(collection,name){return collection.length?_.max(_.pluck(collection,name)):void 0},_.minProperty=function(collection,name){return _.min(_.pluck(collection,name))},_.moveRelative=function(collection,index,direction){if(index>collection.length)return collection;var maxIndex=collection.length-1,targetIndex={top:0,up:Math.max(0,index-1),down:Math.min(maxIndex,index+1),bottom:maxIndex};return _.swap(collection,index,targetIndex[direction])},_.normalizeMixedDataValue=function(value){var padding="000000000000000";return value=value.replace(/(\d+)((\.\d+)+)?/g,function($0,integer,decimal,repeatDecimal){return decimal!==repeatDecimal?padding.slice(integer.length)+integer+decimal:(decimal=decimal||".0",padding.slice(integer.length)+integer+decimal+padding.slice(decimal.length))})},_.rejectWithProperty=function(collection,name,value){var filteredCollection=_.reject(collection,function(item){return item[name]===value});return filteredCollection},_.setProperty=function(collection,name,value){return this.forEach(collection,function(item){item[name]=value}),collection},_.similar=function(collectionA,collectionB){var deltaA=_.difference(collectionA,collectionB).length,deltaB=_.difference(collectionB,collectionA).length;return deltaA+deltaB===0},_.sortOnProperty=function(collection,name,direction,caseInsensitive){direction=direction||"asc";var sortIndicator="asc"===direction?-1:1;return collection.sort(function(a,b){return caseInsensitive?a[name].toLowerCase()<b[name].toLowerCase()?sortIndicator:-sortIndicator:a[name]<b[name]?sortIndicator:-sortIndicator}),collection},_.sortOnPropertyUsingNaturalOrder=function(collection,name,direction){direction=direction||"asc";var sortModifier="asc"===direction?1:-1,sortedCollection=collection.map(function(item){return{operand:_.normalizeMixedDataValue(item[name].toLowerCase()),original:item}}).sort(function(a,b){return sortModifier*a.operand.localeCompare(b.operand)}).map(function(sortedItem){return sortedItem.original});return sortedCollection},_.sortOnPropertyUsingLowerCase=function(collection,name,direction){direction=direction||"asc";var sortIndicator="asc"===direction?-1:1;return collection.sort(function(a,b){var nameA=(a[name]||"").toLowerCase(),nameB=(b[name]||"").toLowerCase();return nameB>nameA?sortIndicator:nameA>nameB?-sortIndicator:0}),collection},_.sumProperty=function(collection,name){for(var sum=0,i=0;i<collection.length;i++)sum+=collection[i][name];return sum},_.swap=function(collection,indexOne,indexTwo){var temp=collection[indexOne];return collection[indexOne]=collection[indexTwo],collection[indexTwo]=temp,collection},_.trim=function(value){return value.replace(/^\s+|\s+$/g,"")},_.withoutProperty=function(collection,name,value){var filteredCollection=this.filter(collection,function(item){return item[name]!==value});return filteredCollection},_.withoutPropertyRange=function(collection,name,valueRange){var filteredCollection=this.filter(collection,function(item){return-1===_.indexOf(valueRange,item[name])});return filteredCollection},_.withProperty=function(collection,name,value){var filteredCollection=this.filter(collection,function(item){return item[name]===value});return filteredCollection},_.withPropertyRange=function(collection,name,valueRange){var filteredCollection=this.filter(collection,function(item){return-1!==_.indexOf(valueRange,item[name])});return filteredCollection},_}app.factory("_",Factory)}(angular,InVision,_);;
//!file:render-context.js
!function(ng,app){"use strict";function RenderContext(requestContext,actionPrefix,paramNames){return this._requestContext=requestContext,this._actionPrefix=actionPrefix,this._paramNames=paramNames,this}app.value("RenderContext",RenderContext),RenderContext.prototype={getNextSection:function(){return this._requestContext.getNextSection(this._actionPrefix)},isChangeLocal:function(){return this._requestContext.startsWith(this._actionPrefix)},isChangeRelevant:function(){return this._requestContext.startsWith(this._actionPrefix)?this._requestContext.hasActionChanged()?!0:this._paramNames.length&&this._requestContext.haveParamsChanged(this._paramNames):!1}}}(angular,InVision);;
//!file:request-context.js
!function(ng,app){"use strict";function RequestContext(RenderContext){return this.RenderContext=RenderContext,this._action="",this._sections=[],this._params={},this._previousAction="",this._previousParams={},this}app.service("requestContext",RequestContext),RequestContext.prototype={getAction:function(){return this._action},getNextSection:function(prefix){if(!this.startsWith(prefix))return null;if(""===prefix)return this._sections[0];var depth=prefix.split(".").length;return depth===this._sections.length?null:this._sections[depth]},getParam:function(name){return this._params[name]||null},getParams:function(){return this._params||null},getParamAsInt:function(name,defaultValue){var valueAsInt=parseInt(this.getParam(name));return isNaN(valueAsInt)?defaultValue||0:valueAsInt},getPreviousAction:function(){return this._previousAction},getRenderContext:function(requestActionLocation,paramNames){return requestActionLocation=requestActionLocation||"",paramNames=paramNames||[],ng.isArray(paramNames)||(paramNames=[paramNames]),new this.RenderContext(this,requestActionLocation,paramNames)},hasActionChanged:function(){return this._action!==this._previousAction},hasParamChanged:function(paramName,paramValue){return ng.isUndefined(paramValue)?!(paramName in this._previousParams)&&paramName in this._params?!0:paramName in this._previousParams&&!(paramName in this._params)?!0:this._previousParams[paramName]!==this._params[paramName]:!this.isParam(paramName,paramValue)},haveParamsChanged:function(paramNames){for(var i=0,length=paramNames.length;length>i;i++)if(this.hasParamChanged(paramNames[i]))return!0;return!1},isParam:function(paramName,paramValue){return paramName in this._params&&this._params[paramName]==paramValue?!0:!1},setContext:function(action,routeParams){this._previousAction=this._action,this._previousParams=this._params,this._action=action,this._sections=action.split("."),this._params=ng.copy(routeParams)},startsWith:function(prefix){return prefix.length&&this._action!==prefix&&0!==this._action.indexOf(prefix+".")?!1:!0}}}(angular,InVision);;
//!file:app-shell.controller.js
!function(ng,app){"use strict";function AppController($scope,requestContext){function $onInit(){$scope.$on("requestContextChanged",handleRequestContextChanged),setSubview(),setItemID()}function collapse(){vm.isExpanded=!1}function expand(){vm.isExpanded=!0}function handleRequestContextChanged(){return renderContext.isChangeRelevant()?(setSubview(),void setItemID()):void setItemID()}function setItemID(){vm.itemID="items.detail"===requestContext.getAction()?requestContext.getParamAsInt("itemID"):0}function setSubview(){vm.subview=renderContext.getNextSection()}var vm=this,renderContext=requestContext.getRenderContext();vm.isExpanded=!1,vm.subview="",vm.itemID=0,vm.$onInit=$onInit,vm.collapse=collapse,vm.expand=expand}app.controller("invM1AppShell.AppController",AppController)}(angular,InVision);;
//!file:app-shell.directive.js
!function(ng,app){"use strict";function AppShellDirective(fakeCssModuleCompiler){return{compile:fakeCssModuleCompiler("c-235c39"),controller:"invM1AppShell.AppController",controllerAs:"vm",restrict:"E",scope:!0,template:'\n<header\n	ng-mouseenter="vm.expand()"\n	ng-mouseleave="vm.collapse()"\n	class="nav-panel"\n	ng-class="{\n		expanded: vm.isExpanded\n	}">\n\n	<a href="https://www.invisionapp.com/" target="_blank" class="logo">\n		<svg class="logo__svg">\n			<use xlink:href="#svg-sprite-logo"></use>\n		</svg>\n	</a>\n\n	<nav class="nav">\n		<a\n			href="#/overview"\n			ng-click="vm.collapse()"\n			class="nav__link"\n			ng-class="{ activated: ( vm.subview === \'overview\' ) }">\n			<svg aria-hidden="true" class="nav__icon">\n				<use xlink:href="#svg-sprite-home"></use>\n			</svg>\n			<span class="nav__label">\n				Home\n			</span>\n		</a>\n		<a\n			href="#/people"\n			ng-click="vm.collapse()"\n			class="nav__link"\n			ng-class="{ activated: ( vm.subview === \'people\' ) }">\n			<svg aria-hidden="true" class="nav__icon">\n				<use xlink:href="#svg-sprite-teams"></use>\n			</svg>\n			<span class="nav__label">\n				People\n			</span>\n		</a>\n		<a\n			ng-href="#/browse?scrollToItem={{ vm.itemID }}"\n			ng-click="vm.collapse()"\n			class="nav__link"\n			ng-class="{ activated: ( vm.subview === \'browse\' ) }">\n			<svg aria-hidden="true" class="nav__icon">\n				<use xlink:href="#svg-sprite-boards"></use>\n			</svg>\n			<span class="nav__label">\n				Browse\n			</span>\n		</a>\n		<a\n			href="#/items"\n			ng-click="vm.collapse()"\n			class="nav__link"\n			ng-class="{ activated: ( vm.subview === \'items\' ) }">\n			<svg aria-hidden="true" class="nav__icon">\n				<use xlink:href="#svg-sprite-list"></use>\n			</svg>\n			<span class="nav__label">\n				Items\n			</span>\n		</a>\n		<a\n			href="#/comments"\n			ng-click="vm.collapse()"\n			class="nav__link"\n			ng-class="{ activated: ( vm.subview === \'comments\' ) }">\n			<svg aria-hidden="true" class="nav__icon">\n				<use xlink:href="#svg-sprite-comment"></use>\n			</svg>\n			<span class="nav__label">\n				Comments\n			</span>\n		</a>\n		<a\n			href="#/thank-you"\n			ng-click="vm.collapse()"\n			class="nav__link nav__link--thanks"\n			ng-class="{ activated: ( vm.subview === \'thanks\' ) }">\n			<svg aria-hidden="true" class="nav__icon">\n				<use xlink:href="#svg-sprite-heart" class="use-as-default"></use>\n				<use xlink:href="#svg-sprite-heart-filled" class="use-as-hover"></use>\n			</svg>\n			<span class="nav__label">\n				Thank You\n			</span>\n		</a>\n	</nav>\n\n</header>\n\n<main class="main-panel" ng-switch="vm.subview">\n	<inv-m3-overview-view ng-switch-when="overview"></inv-m3-overview-view>\n	<inv-m4-people-view ng-switch-when="people"></inv-m4-people-view>\n	<inv-m5-browse-view ng-switch-when="browse"></inv-m5-browse-view>\n	<inv-m6-items-view ng-switch-when="items"></inv-m6-items-view>\n	<inv-m7-comments-view ng-switch-when="comments"></inv-m7-comments-view>\n	<inv-m11-redirect-view ng-switch-when="redirect"></inv-m11-redirect-view>\n	<inv-m2-thank-you-view ng-switch-when="thanks"></inv-m2-thank-you-view>\n</main>\n\n<inv-m12-font-preloader></inv-m12-font-preloader>\n'}}app.directive("invM1AppShell",AppShellDirective)}(angular,InVision);;
//!file:browse-view/browse-view.controller.js
!function(ng,app){"use strict";function ViewController($element,$location,$scope,appConfig,db,requestContext,viewScroller,windowTitle){function $onDestroy(){offsetStore()}function $onInit(){setHistoryState(),loadRemoteData(),applyInitialScroll()}function applyInitialScroll(){return vm.historyState.scrollTop?void applyInitialScrollToHistory():$location.search().scrollToGroup?void applyInitialScrollToGroup():$location.search().scrollToItem?void applyInitialScrollToItem():void viewScroller.scrollAll($element)}function applyInitialScrollToGroup(){$scope.$applyAsync(function(){viewScroller.scrollIntoView($element.find('[data-group-id="'+$location.search().scrollToGroup+'"]'),"instant","start")})}function applyInitialScrollToHistory(){$element.css("min-height",(vm.historyState.elementHeight||0)+"px"),$element.parent().scrollTop(vm.historyState.scrollTop||0)}function applyInitialScrollToItem(){$scope.$applyAsync(function(){viewScroller.scrollIntoView($element.find('[data-item-id="'+$location.search().scrollToItem+'"]'),"instant")})}function buildLayout(items){var layout=Object.create(null),containerHeight=0,verticalAdjustment=0,spans=items.map(function(item){return{item:item,colSpan:item.columns,rowSpan:getRowSpan(item,item.columns)}});return packer.pack(spans,4).forEach(function(placement){var x=placement.colIndex*BLOCK_WIDTH+placement.colIndex*BLOCK_GAP,y=placement.rowIndex*BLOCK_HEIGHT+placement.rowIndex*BLOCK_GAP,width=placement.colSpan*BLOCK_WIDTH+(placement.colSpan-1)*BLOCK_GAP,height=placement.rowSpan*BLOCK_HEIGHT+(placement.rowSpan-1)*BLOCK_GAP;if(y-=verticalAdjustment,4===placement.colSpan&&4===placement.rowSpan&&placement.item.itemTypeID===itemTypes.image){var metadata=placement.item.metadata,imageWidth=metadata.width,imageHeight=metadata.height,imageScale=width/imageWidth,scaledImageHeight=Math.floor(imageHeight*imageScale);height>scaledImageHeight&&(verticalAdjustment+=height-scaledImageHeight,height=scaledImageHeight)}layout[placement.item.id]={left:0,top:0,transform:"translate3d( "+x+"px, "+y+"px, 0 )",width:width+"px",height:height+"px"},containerHeight=Math.max(containerHeight,y+height)}),layout.container={width:"1149px",height:containerHeight+"px"},layout}function getRowSpan(item,colSpan){if(item.itemTypeID!==itemTypes.image)return Math.min(colSpan,2);if(1===colSpan||4===colSpan)return colSpan;var imageWidth=item.metadata.width,imageHeight=item.metadata.height,imageRatio=imageHeight/imageWidth,renderWidth=colSpan*BLOCK_WIDTH+(colSpan-1)*BLOCK_GAP,renderHeight=renderWidth*imageRatio,rowSpan=Math.floor(renderHeight/(BLOCK_HEIGHT+BLOCK_GAP));return rowSpan=Math.max(rowSpan,1),rowSpan=Math.min(rowSpan,colSpan),colSpan>rowSpan&&imageRatio>=.65&&(rowSpan=colSpan),rowSpan}function loadRemoteData(){vm.board=db.board,vm.headerImage=db.headerImage,setGroups(),setItemCategories(),setWindowTitle()}function offsetStore(){vm.historyState.elementHeight=$element.height(),vm.historyState.scrollTop=$element.parent().scrollTop()}function setGroups(){vm.groups=db.groups.map(function(group){var items=db.itemsByGroupID[group.id]||[],layout=buildLayout(items);return{id:group.id,name:group.name,description:group.description,items:items,layout:layout}})}function setHistoryState(){var emptyState=Object.create(null);try{window.history&&window.history.state&&historyStateLookup[window.history.state]?vm.historyState=historyStateLookup[window.history.state]:(vm.historyState=historyStateLookup[++historyStateID]=emptyState,window.history.replaceState(historyStateID,""))}catch(error){vm.historyState=emptyState,console.error(error)}}function setItemCategories(){vm.itemCategories=Object.create(null),db.items.forEach(function(item){switch(item.itemTypeID){case itemTypes.image:case itemTypes.colorSwatch:case itemTypes.font:case itemTypes.note:vm.itemCategories[item.id]=db.itemTypesByID[item.itemTypeID].handle;break;default:vm.itemCategories[item.id]="file"}})}function setWindowTitle(){windowTitle.set("Browse")}var vm=this,itemTypes=appConfig.boardSettings.itemTypes,packer=new Packer,BLOCK_WIDTH=270,BLOCK_HEIGHT=217,BLOCK_GAP=23;vm.board=null,vm.headerImage=null,vm.groups=null,vm.itemCategories=null,vm.historyState=null,vm.$onDestroy=$onDestroy,vm.$onInit=$onInit}function Packer(){function pack(spans,colCount){spans=spans.slice();for(var rows=buildRows(spans,colCount),rowCount=rows.length,placements=[],rowIndex=0;rowCount>rowIndex;rowIndex++)for(var colIndex=0;colCount>colIndex;colIndex++)if(rows[rowIndex][colIndex])for(var i=0;i<spans.length;i++){var element=spans[i],canFitInSpot=hasSpots({rows:rows,rowIndex:rowIndex,colIndex:colIndex,rowSpan:element.rowSpan,colSpan:element.colSpan});if(canFitInSpot){takeSpots({rows:rows,rowIndex:rowIndex,colIndex:colIndex,rowSpan:element.rowSpan,colSpan:element.colSpan}),placements.push({item:element.item,rowIndex:rowIndex,colIndex:colIndex,rowSpan:element.rowSpan,colSpan:element.colSpan}),spans.splice(i,1);break}}return placements}function buildRows(spans,colCount){for(var rows=[],colsTemplate=[],colIndex=0;colCount>colIndex;colIndex++)colsTemplate.push(!0);return spans.forEach(function(element){for(var rowIndex=0;rowIndex<element.rowSpan;rowIndex++)rows.push(colsTemplate.slice())}),rows}function hasSpots(args){for(var rows=args.rows,rowIndex=args.rowIndex,colIndex=args.colIndex,rowSpan=args.rowSpan,colSpan=args.colSpan,maxRowIndex=rowIndex+rowSpan,maxColIndex=colIndex+colSpan,r=rowIndex;maxRowIndex>r;r++)for(var c=colIndex;maxColIndex>c;c++)if(!rows[r]||!rows[r][c])return!1;return!0}function takeSpots(args){for(var rows=args.rows,rowIndex=args.rowIndex,colIndex=args.colIndex,rowSpan=args.rowSpan,colSpan=args.colSpan,maxRowIndex=rowIndex+rowSpan,maxColIndex=colIndex+colSpan,r=rowIndex;maxRowIndex>r;r++)for(var c=colIndex;maxColIndex>c;c++)rows[r][c]=!1}return{pack:pack}}app.controller("invM5BrowseView.ViewController",ViewController);var historyStateID=0,historyStateLookup=Object.create(null)}(angular,InVision);;
//!file:browse-view/browse-view.directive.js
!function(ng,app){"use strict";function BrowseViewDirective(fakeCssModuleCompiler){return{compile:fakeCssModuleCompiler("c-5b2879"),controller:"invM5BrowseView.ViewController",controllerAs:"vm",restrict:"E",scope:!0,template:'\n<div\n	class="masthead"\n	ng-class=":: {\n		\'masthead--size-1\': ( vm.headerImage.imageSize === 1 ),\n		\'masthead--size-2\': ( vm.headerImage.imageSize === 2 ),\n		\'masthead--size-3\': ( vm.headerImage.imageSize === 3 ),\n		\'masthead--with-image\': vm.headerImage.imageUrl\n	}">\n\n	<div class="masthead__text">\n		<h1 class="ids-h1 masthead__name">\n			{{ :: vm.board.name }}\n		</h1>\n\n		<p\n			ng-if=":: vm.board.description"\n			class="ids-text masthead__description">\n			{{ :: vm.board.description }}\n		</p>\n	</div>\n\n	<div\n		ng-if=":: ( vm.headerImage.imageUrl && vm.headerImage.imageTint )"\n		class="masthead__tint"\n		ng-style=":: {\n			opacity: ( vm.headerImage.imageTint * 0.01 )\n		}">\n	</div>\n\n	<div\n		ng-if=":: vm.headerImage.imageUrl"\n		class="masthead__graphic">\n		<img\n			ng-src="{{ :: vm.headerImage.imageUrl }}"\n			class="masthead__image"\n		/>\n	</div>\n\n</div>\n\n<div class="main-wrapper">\n\n	<section\n		ng-repeat="group in :: vm.groups track by $index"\n		data-group-id="{{ :: group.id }}"\n		class="section">\n\n		<h2\n			ng-if=":: group.name"\n			class="ids-h2 section__name">\n			{{ :: group.name }}\n		</h2>\n\n		<p\n			ng-if=":: group.description"\n			inv-auto-linker\n			class="ids-text section__description"\n			ng-class="::{\n				\'section__description--no-items\': ! group.items.length\n			}">\n			{{ :: group.description }}\n		</p>\n\n		<ul\n			ng-if=":: group.items.length"\n			class="section__items items"\n			ng-style=":: group.layout.container">\n			<li\n				ng-repeat="item in :: group.items track by item.id"\n				class="items__item"\n				ng-style=":: group.layout[ item.id ]">\n\n				<a\n					ng-href="#/items/{{ :: item.id }}?from=browse"\n					data-item-id="{{ :: item.id }}"\n					class="items__link"\n					ng-switch=":: vm.itemCategories[ item.id ]">\n\n					<inv-m5-image\n						ng-switch-when="image"\n						item=":: item">\n					</inv-m5-image>\n					<inv-m5-color-swatch\n						ng-switch-when="colorSwatch"\n						item=":: item">\n					</inv-m5-color-swatch>\n					<inv-m5-font\n						ng-switch-when="font"\n						item=":: item">\n					</inv-m5-font>\n					<inv-m5-note\n						ng-switch-when="note"\n						item=":: item">\n					</inv-m5-note>\n					<inv-m5-file\n						ng-switch-when="file"\n						item=":: item">\n					</inv-m5-file>\n				</a>\n\n			</li>\n		</ul>\n\n	</section>\n\n</div>\n'}}app.directive("invM5BrowseView",BrowseViewDirective)}(angular,InVision);;
//!file:browse-view/items/color-swatch.controller.js
!function(ng,app){"use strict";function ItemController($scope){$scope.props=$scope}app.controller("invM5ColorSwatch.ItemController",ItemController)}(angular,InVision);;
//!file:browse-view/items/color-swatch.directive.js
!function(ng,app){"use strict";function ColorSwatchDirective(fakeCssModuleCompiler){return{compile:fakeCssModuleCompiler("c-f45b21"),controller:"invM5ColorSwatch.ItemController",controllerAs:"vm",restrict:"E",scope:{item:"="},template:'\n<span\n	class="preview"\n	ng-style=":: { \'background-color\': props.item.metadata.color }">\n</span>\n\n<span class="label">\n	{{ :: props.item.name }}\n</span>\n'}}app.directive("invM5ColorSwatch",ColorSwatchDirective)}(angular,InVision);;
//!file:browse-view/items/file.controller.js
!function(ng,app){"use strict";function ItemController($scope,_,filenameHelper){function $onInit(){vm.ext=filenameHelper.getFileExtension(props.item.metadata.clientFilename,6)||"file"}var vm=this,props=$scope.props=$scope;vm.ext=null,vm.$onInit=$onInit}app.controller("invM5File.ItemController",ItemController)}(angular,InVision);;
//!file:browse-view/items/file.directive.js
!function(ng,app){"use strict";function FileDirective(fakeCssModuleCompiler){return{compile:fakeCssModuleCompiler("c-a1318f"),controller:"invM5File.ItemController",controllerAs:"vm",restrict:"E",scope:{item:"="},template:'\n<div class="preview">\n	{{ :: vm.ext }}\n</div>\n\n<span class="label">\n	{{ :: props.item.name }}\n</span>\n'}}app.directive("invM5File",FileDirective)}(angular,InVision);;
//!file:browse-view/items/font.controller.js
!function(ng,app){"use strict";function ItemController($scope){$scope.props=$scope}app.controller("invM5Font.ItemController",ItemController)}(angular,InVision);;
//!file:browse-view/items/font.directive.js
!function(ng,app){"use strict";function FontDirective(fakeCssModuleCompiler){return{compile:fakeCssModuleCompiler("c-088574"),controller:"invM5Font.ItemController",controllerAs:"vm",restrict:"E",scope:{item:"="},template:'\n<span\n	class="preview"\n	ng-style=":: {\n		\'font-family\': props.item.metadata.fontFace\n	}">\n	<span class="text">\n		Aa Zz\n	</span>\n</span>\n\n<span class="label">\n	{{ :: props.item.name }}\n</span>'}}app.directive("invM5Font",FontDirective)}(angular,InVision);;
//!file:browse-view/items/image.controller.js
!function(ng,app){"use strict";function ItemController($scope){$scope.props=$scope}app.controller("invM5Image.ItemController",ItemController)}(angular,InVision);;
//!file:browse-view/items/image.directive.js
!function(ng,app){"use strict";function ImageDirective(fakeCssModuleCompiler){return{compile:fakeCssModuleCompiler("c-5ef073"),controller:"invM5Image.ItemController",controllerAs:"vm",restrict:"E",scope:{item:"="},template:'\n<img\n	ng-src="{{ :: props.item.metadata.fileUrl }}"\n	title="{{ :: props.item.metadata.clientFilename }}"\n	class="image"\n/>\n'}}app.directive("invM5Image",ImageDirective)}(angular,InVision);;
//!file:browse-view/items/note.controller.js
!function(ng,app){"use strict";function ItemController($scope){$scope.props=$scope}app.controller("invM5Note.ItemController",ItemController)}(angular,InVision);;
//!file:browse-view/items/note.directive.js
!function(ng,app){"use strict";function NoteDirective(fakeCssModuleCompiler){return{compile:fakeCssModuleCompiler("c-125cd6"),controller:"invM5Note.ItemController",controllerAs:"vm",restrict:"E",scope:{item:"="},template:'\n<div class="preview preview--{{ :: props.item.columns }}">\n	<h3 class="name">\n		{{ :: props.item.name }}\n	</h3>\n	<div\n		class="content"\n		ng-bind-html=":: props.item.metadata.noteHtml">\n	</div>\n</div>\n'}}app.directive("invM5Note",NoteDirective)}(angular,InVision);;
//!file:comments-view/comments-view.controller.js
!function(ng,app){"use strict";function ViewController($element,$location,$scope,db,formatNumber,requestContext,searchService,viewScroller,windowTitle){function $onInit(){$scope.$on("requestContextChanged",handleRequestContextChanged);var urlFilters=getFiltersFromUrlWithSaneDefaults();vm.filters.keywords=urlFilters.keywords,vm.filters.userID=urlFilters.userID,vm.filters.itemTypeID=urlFilters.itemTypeID,vm.filters.page=urlFilters.page,loadRemoteData(),viewScroller.scrollAll($element)}function applyForm(){$location.search("keywords",vm.form.keywords||null),$location.search("userID",vm.form.userOption.id||null),$location.search("itemTypeID",vm.form.itemTypeOption.id||null),$location.search("page",null)}function applyPage(page){$location.search("page",page)}function clearForm(){$location.replace(),$location.search("keywords",null),$location.search("userID",null),$location.search("itemTypeID",null),$location.search("page",null)}function scrollToTop(){viewScroller.scrollAll($element)}function getFiltersFromUrlWithSaneDefaults(){var search=$location.search();return{keywords:search.keywords||"",userID:+search.userID||0,itemTypeID:+search.itemTypeID||0,page:+search.page||1}}function handleRequestContextChanged(){if(renderContext.isChangeRelevant()||!requestContext.hasActionChanged()){var urlFilters=getFiltersFromUrlWithSaneDefaults();urlFilters.keywords!==vm.filters.keywords||urlFilters.userID!==vm.filters.userID||urlFilters.itemTypeID!==vm.filters.itemTypeID?(vm.filters.keywords=urlFilters.keywords,vm.filters.userID=urlFilters.userID,vm.filters.itemTypeID=urlFilters.itemTypeID,vm.filters.page=urlFilters.page,setFormFiltered(),setResultsFiltered(),setPagination(),setWindowTitle()):urlFilters.page!==vm.filters.page&&(vm.filters.page=urlFilters.page,setFormFiltered(),setPagination(),setWindowTitle())}}function loadRemoteData(){vm.board=db.board,setForm(),setFormFiltered(),setResults(),setResultsFiltered(),setPagination(),setOverviewCount(),setWindowTitle()}function setForm(){vm.form.keywords="",vm.form.userOptions=[{id:0,value:" - All users - "}],vm.form.userOption=vm.form.userOptions[0],db.users.forEach(function(user){db.commentsByUserID[user.id]&&vm.form.userOptions.push({id:user.id,value:user.name+" <"+user.email+">"})}),vm.form.itemTypeOptions=[{id:0,value:"- All types -"}],vm.form.itemTypeOption=vm.form.itemTypeOptions[0],db.itemTypes.forEach(function(type){db.itemsByItemTypeID[type.id]&&vm.form.itemTypeOptions.push({id:type.id,value:type.name})})}function setFormFiltered(){vm.form.keywords=vm.filters.keywords,vm.form.userOption=_.findWithProperty(vm.form.userOptions,"id",vm.filters.userID),vm.form.itemTypeOption=_.findWithProperty(vm.form.itemTypeOptions,"id",vm.filters.itemTypeID),vm.form.page=vm.filters.page}function setPagination(){var pageSize=25,pageCount=Math.ceil(vm.filteredResults.length/pageSize),pageNumber=vm.filters.page=_.clamp(vm.filters.page,1,pageCount),pageLinks=[],startIndex=(pageNumber-1)*pageSize,endIndex=startIndex+pageSize,results=vm.filteredResults.slice(startIndex,endIndex);if(pageCount>1)for(var i=1;pageCount>=i;i++)pageLinks.push({pageNumber:i,label:i});vm.pagination={pageSize:pageSize,pageCount:pageCount,pageNumber:pageNumber,pageLinks:pageLinks,results:results}}function setResults(){vm.results=db.items.filter(function(item){return db.commentsByItemID[item.id]}).map(function(item){var noType={id:0,name:""},comments=db.commentsByItemID[item.id],keywordInputs=_.pluck(comments,"comment");keywordInputs.unshift(item.name);var userIndex=Object.create(null),keywords=searchService.normalizeInputs(keywordInputs);comments.forEach(function(comment){userIndex[comment.userID]=!0});var itemType=db.itemTypesByID[item.itemTypeID]||noType;return{item:item,commentCount:comments.length,userIndex:userIndex,keywords:keywords,itemType:itemType}})}function setResultsFiltered(){if(!vm.filters.keywords&&!vm.filters.userID&&!vm.filters.itemTypeID)return void(vm.filteredResults=vm.results);var normalizedKeywords=searchService.normalize(vm.filters.keywords);vm.filteredResults=vm.results.filter(function(result){return vm.filters.userID&&!result.userIndex[vm.filters.userID]?!1:vm.filters.itemTypeID&&vm.filters.itemTypeID!==result.item.itemTypeID?!1:normalizedKeywords&&!_.includes(result.keywords,normalizedKeywords)?!1:!0})}function setOverviewCount(){vm.overviewCount={},vm.overviewCount.comments=1===db.comments.length?"was 1 comment":"were "+formatNumber(db.comments.length)+" comments",vm.overviewCount.items=1===vm.results.length?"1 item":formatNumber(vm.results.length)+" items"}function setWindowTitle(){vm.filters.page>1?windowTitle.set("Comments (page "+vm.filters.page+")"):windowTitle.set("Comments")}var vm=this,renderContext=requestContext.getRenderContext("comments.list");vm.board=null,vm.results=null,vm.filteredResults=null,vm.pagination=null,vm.overviewCount=null,vm.filters={keywords:"",userID:0,itemTypeID:0,page:1},vm.form={keywords:"",userOption:null,userOptions:[],itemTypeOption:null,itemTypeOptions:[],page:1},vm.$onInit=$onInit,vm.applyForm=applyForm,vm.applyPage=applyPage,vm.clearForm=clearForm,vm.scrollToTop=scrollToTop}app.controller("invM7CommentsView.ViewController",ViewController)}(angular,InVision);;
//!file:comments-view/comments-view.directive.js
!function(ng,app){"use strict";function CommentsViewDirective(fakeCssModuleCompiler){return{compile:fakeCssModuleCompiler("c-8457c2"),controller:"invM7CommentsView.ViewController",controllerAs:"vm",restrict:"E",scope:!0,template:'\n<div class="ids-content-pane">\n\n	<h1 class="ids-h1">\n		Comments\n	</h1>\n\n	<p class="ids-text">\n		At the time of the export, there {{ :: vm.overviewCount.comments }} in {{ :: vm.board.name }}, spread across {{ :: vm.overviewCount.items }}.\n	</p>\n\n	<form ng-submit="vm.applyForm()" class="ids-form-bar">\n		<div class="ids-form-bar__entry">\n			<label for="form--keywords" class="ids-form-bar__label">\n				Search:\n			</label>\n			<div class="ids-form-bar__body">\n				<input\n					id="form--keywords"\n					type="text"\n					ng-model="vm.form.keywords"\n					ng-model-options="{ debounce: 300 }"\n					ng-change="vm.applyForm()"\n					class="ids-input keywords-input"\n				/>\n			</div>\n		</div>\n		<div class="ids-form-bar__entry">\n			<label for="form--user" class="ids-form-bar__label">\n				User:\n			</label>\n			<div class="ids-form-bar__body">\n				<ids-select\n					control-id="form--user"\n					ng-model="vm.form.userOption"\n					options="vm.form.userOptions"\n					option-label="value"\n					ng-change="vm.applyForm()"\n					class="user-input">\n				</ids-select>\n			</div>\n		</div>\n		<div class="ids-form-bar__entry">\n			<label for="form--type" class="ids-form-bar__label">\n				Type:\n			</label>\n			<div class="ids-form-bar__body">\n				<ids-select\n					control-id="form--type"\n					ng-model="vm.form.itemTypeOption"\n					options="vm.form.itemTypeOptions"\n					option-label="value"\n					ng-change="vm.applyForm()"\n					class="type-input">\n				</ids-select>\n			</div>\n		</div>\n		<div\n			ng-if="( vm.form.keywords || vm.filters.userID || vm.filters.itemTypeID )"\n			class="ids-form-bar__buttons">\n			<button\n				type="button"\n				ng-click="vm.clearForm()"\n				class="ids-primary-button ids-primary-button--inline">\n				Clear\n			</button>\n		</div>\n	</form>\n\n	<table ng-if="vm.pagination.results.length" class="ids-table">\n	<thead>\n		<tr>\n			<th class="ids-table__th">\n				Item\n			</th>\n			<th class="ids-table__th" style="width: 1% ;">\n				Type\n			</th>\n			<th class="ids-table__th" style="width: 1% ;">\n				Comments\n			</th>\n		</tr>\n	</thead>\n	<tbody>\n		<tr ng-repeat="result in vm.pagination.results track by result.item.id">\n			<td class="ids-table__td ids-table__td--no-padding">\n				<a\n					ng-href="#/items/{{ :: result.item.id }}"\n					class="ids-table__block">\n					{{ :: result.item.name }}\n				</a>\n			</td>\n			<td class="ids-table__td ids-table__td--nowrap">\n				{{ :: result.itemType.name }}\n			</td>\n			<td class="ids-table__td ids-table__td--no-padding ids-table__td--center">\n				<a\n					ng-href="#/items/{{ :: result.item.id }}"\n					class="ids-table__block">\n					{{ :: result.commentCount }}\n				</a>\n			</td>\n		</tr>\n	</tbody>\n	</table>\n\n\n	<form ng-if="( vm.pagination.pageCount > 1 )" class="ids-form-bar">\n		<div class="ids-form-bar__entry">\n			<label for="form--page" class="ids-form-bar__label">\n				Page:\n			</label>\n			<div class="ids-form-bar__body">\n				<ids-select\n					control-id="form--page"\n					ng-model="vm.form.page"\n					options="vm.pagination.pageLinks"\n					option-key="pageNumber"\n					option-label="pageNumber"\n					ng-change="vm.applyPage( vm.form.page ); vm.scrollToTop()"\n					class="page-input">\n				</ids-select>\n			</div>\n		</div>\n		<div\n			class="ids-form-bar__buttons"\n			ng-switch="( vm.pagination.pageNumber < vm.pagination.pageCount )">\n			<button\n				ng-switch-when="true"\n				type="button"\n				ng-click="vm.applyPage( vm.pagination.pageNumber + 1 ); vm.scrollToTop()"\n				class="ids-primary-button ids-primary-button--inline">\n				Next &rarr;\n			</button>\n			<button\n				ng-switch-when="false"\n				type="button"\n				ng-click="vm.applyPage( 1 ); vm.scrollToTop()"\n				class="ids-primary-button ids-primary-button--inline">\n				Reset &circlearrowleft;\n			</button>\n		</div>\n	</form>\n\n\n	<ids-not-found ng-if="( ! vm.filteredResults.length )">\n		<h2 class="ids-h2">\n			No matches\n		</h2>\n		<p class="ids-p">\n			<a href="#/comments">Clear filters</a>.\n		</p>\n	</ids-not-found>\n\n</div>\n'}}app.directive("invM7CommentsView",CommentsViewDirective)}(angular,InVision);;
//!file:font-preloader.controller.js
!function(ng,app){"use strict";function PreloaderController($scope,appConfig,db){function $onInit(){vm.fontItems=db.items.filter(function(item){return item.itemTypeID===itemTypes.font}),injectStyleTags()}function injectStyleTags(){vm.fontItems.forEach(function(item){var fontFamily=item.metadata.fontFace,srcUrl=item.metadata.fileUrl;jQuery("<style>").attr("type","text/css").attr("data-font-item",item.id).attr("data-font-family",item.metadata.clientFilename).text("@font-face{font-family: '"+fontFamily+"' ;src: url( '"+srcUrl+"' ) ;}").appendTo(document.head)})}var vm=this,itemTypes=appConfig.boardSettings.itemTypes;vm.fontItems=null,vm.$onInit=$onInit}app.controller("invM12FontPreloader.PreloaderController",PreloaderController)}(angular,InVision);;
//!file:font-preloader.directive.js
!function(ng,app){"use strict";function FontPreloaderDirective(fakeCssModuleCompiler){return{compile:fakeCssModuleCompiler("c-113278"),controller:"invM12FontPreloader.PreloaderController",controllerAs:"vm",restrict:"E",scope:!0,template:'\n<span\n	ng-repeat="item in vm.fontItems track by item.id"\n	ng-style="{\n		\'font-family\': item.metadata.fontFace\n	}">\n	{{ item.metadata.clientFilename }}\n</span>\n'}}app.directive("invM12FontPreloader",FontPreloaderDirective)}(angular,InVision);;
//!file:items-view/detail-view/aside-view.controller.js
!function(ng,app){"use strict";function ViewController($element,$scope,db,filenameHelper,formatDate,formatNumber,requestContext,viewScroller){function $onInit(){$scope.$on("requestContextChanged",handleRequestContextChanged),vm.itemID=requestContext.getParamAsInt("itemID"),loadRemoteData(),scrollMainPanel()}function highlightAnnotation(comment){var commentID=comment&&comment.hasAnnotation?comment.id:null;props.onHighlightAnnotation({commentID:commentID})}function showHex(color){window.prompt("Color palette hex:",color)}function handleRequestContextChanged(){renderContext.isChangeRelevant()&&requestContext.hasParamChanged("itemID")&&(vm.itemID=requestContext.getParamAsInt("itemID"),loadRemoteData(),scrollMainPanel())}function loadRemoteData(){vm.item=db.itemsByID[vm.itemID],vm.item&&(setItemType(),setGroup(),setUser(),setComments(),setColors(),setDateIndex(),setUserIndex(),setFile())}function scrollMainPanel(){viewScroller.scroll($element.find(".main-panel"))}function setColors(){vm.colors=vm.item.metadata.imageColors||[]}function setComments(){vm.comments=(db.commentsByItemID[vm.item.id]||[]).map(function(comment){var paragraphs=comment.comment.split(/[\r\n]+/);return{id:comment.id,userID:comment.userID,createdAt:comment.createdAt,paragraphs:paragraphs,hasAnnotation:comment.hasAnnotation,annotationLabel:comment.annotationLabel}})}function setDateIndex(){vm.dateIndex=Object.create(null),vm.dateIndex[vm.item.updatedAt]=formatDate(vm.item.updatedAt),vm.comments.forEach(function(comment){vm.dateIndex[comment.createdAt]=formatDate(comment.createdAt)})}function setFile(){vm.fileUrl=null,vm.fileExt=null,vm.item.metadata.fileUrl&&vm.item.metadata.serverFilename&&(vm.fileUrl=vm.item.metadata.fileUrl,vm.fileExt=filenameHelper.getFileExtension(vm.item.metadata.serverFilename))}function setGroup(){vm.group=db.groupsByID[vm.item.groupID]||null}function setItemType(){vm.itemType=db.itemTypesByID[vm.item.itemTypeID]}function setUser(){vm.user=db.usersByID[vm.item.userID]}function setUserIndex(){vm.userIndex=db.usersByID}var vm=this,props=$scope.props=$scope,renderContext=requestContext.getRenderContext("items.detail",["itemID"]);vm.itemID=0,vm.item=null,vm.itemType=null,vm.group=null,vm.user=null,vm.comments=null,vm.colors=null,vm.dateIndex=null,vm.userIndex=null,vm.fileUrl=null,vm.fileExt=null,vm.$onInit=$onInit,vm.highlightAnnotation=highlightAnnotation,vm.showHex=showHex}app.controller("invM10AsideView.ViewController",ViewController)}(angular,InVision);;
//!file:items-view/detail-view/aside-view.directive.js
!function(ng,app){"use strict";function AsideViewDirective(fakeCssModuleCompiler){return{compile:fakeCssModuleCompiler("c-cb0224"),controller:"invM10AsideView.ViewController",controllerAs:"vm",restrict:"E",scope:{isScaling:"=",onGotoNextItem:"&",onGotoPrevItem:"&",onHide:"&",onHighlightAnnotation:"&",onToggleScaling:"&"},template:'\n<div class="main-panel">\n	<div class="ids-content-pane">\n\n		<h1 class="ids-h1 ids-break-word">\n			{{ vm.item.name }}\n		</h1>\n\n		<p ng-if="vm.colors.length" class="ids-text palette">\n			<button\n				ng-repeat="color in vm.colors track by $index"\n				ng-click="vm.showHex( color )"\n				class="palette__swatch"\n				ng-style="{ \'background-color\': color }">\n				<span class="palette__hex">\n					{{ color }}\n				</span>\n			</button>\n		</p>\n\n		<p class="metadata ids-break-word">\n			<strong class="metadata__label">Managed by:</strong>\n			<span class="metadata__value">{{ vm.user.email }}</span>\n		</p>\n\n		<p class="metadata">\n			<strong class="metadata__label">Updated:</strong>\n			<span class="metadata__value">{{ vm.dateIndex[ vm.item.updatedAt ] }}</span>\n		</p>\n\n		<p class="metadata">\n			<strong class="metadata__label">Type:</strong>\n			<span class="metadata__value">{{ vm.itemType.name }}</span>\n		</p>\n\n		<p ng-if="vm.item.metadata.fileVersion" class="metadata">\n			<strong class="metadata__label">Version:</strong>\n			<span class="metadata__value">{{ vm.item.metadata.fileVersion }}</span>\n		</p>\n\n		<p ng-if="vm.group" class="metadata">\n			<strong class="metadata__label">Group:</strong>\n			<span class="metadata__value"><a ng-href="#/browse?scrollToGroup={{ vm.group.id }}">{{ vm.group.name || "Untitled" }}</a></span>\n		</p>\n\n		<p ng-if="vm.fileUrl" class="metadata">\n			<strong class="metadata__label">File:</strong>\n			<span class="metadata__value"><a ng-href="{{ vm.fileUrl }}" target="_blank">Download .{{ vm.fileExt }} file</a></span>\n		</p>\n\n		<p ng-if="vm.item.description" class="ids-text ids-break-word">\n			{{ vm.item.description }}\n		</p>\n\n		<ul class="comments">\n			<li\n				ng-repeat="comment in vm.comments track by comment.id"\n				class="comments__item">\n\n				<div\n					ng-mouseenter="vm.highlightAnnotation( comment )"\n					ng-mouseleave="vm.highlightAnnotation()"\n					class="comment-card">\n					<span\n						ng-if=":: comment.hasAnnotation"\n						class="comment-card__annotation">\n						{{ :: comment.annotationLabel }}\n					</span>\n					<div class="comment-card__header">\n						<div class="comment-card__name">\n							{{ :: vm.userIndex[ comment.userID ].name }}\n						</div>\n						<div class="comment-card__date">\n							{{ :: vm.dateIndex[ comment.createdAt ] }}\n						</div>\n					</div>\n					<div class="comment-card__email">\n						{{ :: vm.userIndex[ comment.userID ].email }}\n					</div>\n					<div class="comment-card__main">\n						<p\n							ng-repeat="paragraph in :: comment.paragraphs"\n							inv-auto-linker\n							class="ids-text ids-break-word">\n							{{ :: paragraph }}\n						</p>\n					</div>\n				</div>\n\n			</li>\n		</ul>\n\n	</div>\n\n	<button\n		ng-click="props.onHide()"\n		class="ids-primary-button ids-primary-button--plain close">\n		<svg class="close__icon">\n			<title>Hide details</title>\n			<use xlink:href="#svg-sprite-close"></use>\n		</svg>\n	</button>\n</div>\n\n<div class="tools-panel tools">\n	<button\n		ng-click="props.onToggleScaling()"\n		class="toggle-scaling tool tool--toggle">\n		<ids-switch\n			is-on="props.isScaling"\n			class="toggle-scaling__switch">\n		</ids-switch>\n		<span class="toggle-scaling__label">\n			Scale images\n		</span>\n	</button>\n\n	<button\n		ng-click="props.onGotoPrevItem()"\n		class="ids-primary-button ids-primary-button--stroked tool tool--prev">\n		Prev\n	</button>\n	<button\n		ng-click="props.onGotoNextItem()"\n		class="ids-primary-button ids-primary-button--stroked tool tool--next">\n		Next\n	</button>\n</div>\n'}}app.directive("invM10AsideView",AsideViewDirective)}(angular,InVision);;
//!file:items-view/detail-view/detail-view.controller.js
!function(ng,app){"use strict";function ViewController($element,$location,$scope,_,appConfig,db,keyCommandsPriority,keyCommandsService,requestContext,viewScroller,windowTitle){function $onDestroy(){unlistenToKeyCommands&&unlistenToKeyCommands()}function $onInit(){unlistenToKeyCommands=keyCommandsService.listen({ArrowLeft:handleKeyArrowLeft,ArrowRight:handleKeyArrowRight,Escape:handleKeyEscape},{priority:keyCommandsPriority.MAIN}),$scope.$on("requestContextChanged",handleRequestContextChanged),vm.itemID=requestContext.getParamAsInt("itemID"),vm.from=$location.search().from||"",setPrevNextIndex(),loadRemoteData(),scrollMainPanel()}function gotoNextItem(){$location.url("/items/"+vm.next.id)}function gotoPrevItem(){$location.url("/items/"+vm.prev.id)}function hideAside(){vm.isShowingAside=IS_SHOWING_ASIDE=!1}function selectComment(commentID){vm.selectedCommentID=commentID}function showAside(){vm.isShowingAside=IS_SHOWING_ASIDE=!0}function toggleScaling(){vm.isScaling=IS_SCALING=!vm.isScaling}function handleKeyArrowLeft(event){event.preventDefault(),gotoPrevItem()}function handleKeyArrowRight(event){event.preventDefault(),gotoNextItem()}function handleKeyEscape(event){returnToFrom()}function handleRequestContextChanged(){(renderContext.isChangeRelevant()||!requestContext.hasActionChanged())&&(requestContext.hasParamChanged("itemID")&&(vm.itemID=requestContext.getParamAsInt("itemID"),vm.selectedCommentID=null,loadRemoteData()),scrollMainPanel())}function loadRemoteData(){return vm.item=db.itemsByID[vm.itemID],vm.item?(setItemCategory(),setComments(),setPrevNext(),void setWindowTitle()):($location.replace(),void $location.url("/items"))}function returnToFrom(){"browse"===vm.from?$location.url("/browse?scrollToItem="+vm.item.id):$location.url("/items")}function scrollMainPanel(){var scroller=$element.find(".main-panel");viewScroller.scrollAll(scroller)}function setComments(){vm.comments=(db.commentsByItemID[vm.item.id]||[]).filter(function(comment){return comment.hasAnnotation})}function setItemCategory(){switch(vm.item.itemTypeID){case itemTypes.image:case itemTypes.colorSwatch:case itemTypes.font:case itemTypes.note:vm.itemCategory=db.itemTypesByID[vm.item.itemTypeID].handle;break;default:vm.itemCategory="file"}}function setPrevNext(){vm.prev=vm.prevNextIndex[vm.item.id].prev,vm.next=vm.prevNextIndex[vm.item.id].next}function setPrevNextIndex(){vm.prevNextIndex=Object.create(null),db.items.forEach(function(item,i){vm.prevNextIndex[item.id]={prev:db.items[i-1]||_.last(db.items),next:db.items[i+1]||_.first(db.items)}})}function setWindowTitle(){windowTitle.set(vm.item.name)}var vm=this,renderContext=requestContext.getRenderContext("items.detail",["itemID"]),itemTypes=appConfig.boardSettings.itemTypes,unlistenToKeyCommands=null;vm.itemID=0,vm.item=null,vm.itemCategory=null,vm.comments=null,vm.prevNextIndex=null,vm.prev=null,vm.next=null,vm.from=null,vm.isShowingAside=IS_SHOWING_ASIDE===!0,vm.isScaling=IS_SCALING===!0,vm.selectedCommentID=null,vm.$onDestroy=$onDestroy,vm.$onInit=$onInit,vm.gotoNextItem=gotoNextItem,vm.gotoPrevItem=gotoPrevItem,vm.hideAside=hideAside,vm.selectComment=selectComment,vm.showAside=showAside,vm.toggleScaling=toggleScaling}app.controller("invM9DetailView.ViewController",ViewController);var IS_SHOWING_ASIDE=!0,IS_SCALING=!0}(angular,InVision);;
//!file:items-view/detail-view/detail-view.directive.js
!function(ng,app){"use strict";function DetailViewDirective(fakeCssModuleCompiler){return{compile:fakeCssModuleCompiler("c-6ca6cb"),controller:"invM9DetailView.ViewController",controllerAs:"vm",restrict:"E",scope:!0,template:'\n<div x-image-scaling-viewport class="ids-content-pane main-panel">\n\n	<div class="content-box" ng-switch="vm.itemCategory">\n		<inv-m9-image\n			ng-switch-when="image"\n			item="vm.item"\n			comments="vm.comments"\n			selected-comment-id="vm.selectedCommentID"\n			is-showing-aside="vm.isShowingAside"\n			is-scaling="vm.isScaling">\n		</inv-m9-image>\n		<inv-m9-color-swatch\n			ng-switch-when="colorSwatch"\n			item="vm.item">\n		</inv-m9-color-swatch>\n		<inv-m9-font\n			ng-switch-when="font"\n			item="vm.item">\n		</inv-m9-font>\n		<inv-m9-note\n			ng-switch-when="note"\n			item="vm.item">\n		</inv-m9-note>\n		<inv-m9-file\n			ng-switch-when="file"\n			item="vm.item">\n		</inv-m9-file>\n	</div>\n\n	<button\n		ng-if="( ! vm.isShowingAside )"\n		ng-click="vm.showAside()"\n		class="ids-primary-button ids-primary-button--dark show-aside">\n		Show Details\n	</button>\n</div>\n\n<inv-m10-aside-view\n	ng-if="vm.isShowingAside"\n	on-hide="vm.hideAside()"\n	on-goto-next-item="vm.gotoNextItem()"\n	on-goto-prev-item="vm.gotoPrevItem()"\n	on-highlight-annotation="vm.selectComment( commentID )"\n	is-scaling="vm.isScaling"\n	on-toggle-scaling="vm.toggleScaling()"\n	class="aside-panel">\n</inv-m11-aside-view>\n'}}app.directive("invM9DetailView",DetailViewDirective)}(angular,InVision);;
//!file:items-view/detail-view/items/color-swatch.controller.js
!function(ng,app){"use strict";function ItemController($scope){$scope.props=$scope}app.controller("invM9ColorSwatch.ItemController",ItemController)}(angular,InVision);;
//!file:items-view/detail-view/items/color-swatch.directive.js
!function(ng,app){"use strict";function ColorSwatchDirective(fakeCssModuleCompiler){return{compile:fakeCssModuleCompiler("c-d6f3a9"),controller:"invM9ColorSwatch.ItemController",controllerAs:"vm",restrict:"E",scope:{item:"="},template:'\n<div\n	class="preview"\n	ng-style="{ \'background-color\': props.item.metadata.color }">\n\n	<div class="label">\n		{{ props.item.metadata.color }}\n	</div>\n</div>\n'}}app.directive("invM9ColorSwatch",ColorSwatchDirective)}(angular,InVision);;
//!file:items-view/detail-view/items/file.controller.js
!function(ng,app){"use strict";function ItemController($scope,_,filenameHelper){function $onInit(){$scope.$watch("props.item",handleItemChange)}function handleItemChange(){switch(vm.ext=filenameHelper.getFileExtension(props.item.metadata.serverFilename)||"file",vm.isAudio=!1,vm.isVideo=!1,vm.ext){case"mp3":case"wav":vm.isAudio=!0;break;case"mp4":vm.isVideo=!0}}var vm=this,props=$scope.props=$scope;vm.ext=null,vm.isAudio=!1,vm.isVideo=!1,vm.$onInit=$onInit}app.controller("invM9File.ItemController",ItemController)}(angular,InVision);;
//!file:items-view/detail-view/items/file.directive.js
!function(ng,app){"use strict";function FileDirective(fakeCssModuleCompiler){return{compile:fakeCssModuleCompiler("c-4d099a"),controller:"invM9File.ItemController",controllerAs:"vm",restrict:"E",scope:{item:"="},template:'\n<h3 class="ids-h3 ids-break-word">\n	{{ props.item.metadata.clientFilename }}\n</h3>\n\n<div ng-if="vm.isAudio" class="audio">\n	<audio\n		ng-src="{{ props.item.metadata.fileUrl }}"\n		controls\n		preload="none"\n		class="audio__control">\n	</audio>\n</div>\n\n<div ng-if="vm.isVideo" class="video">\n	<video\n		ng-src="{{ props.item.metadata.fileUrl }}"\n		controls\n		preload="none"\n		class="video__control">\n	</video>\n</div>\n\n<p class="ids-text">\n	<a\n		ng-href="{{ props.item.metadata.fileUrl }}"\n		target="_blank">\n		Download .{{ vm.ext }} file\n	</a>\n</p>\n'}}app.directive("invM9File",FileDirective)}(angular,InVision);;
//!file:items-view/detail-view/items/font.controller.js
!function(ng,app){"use strict";function ItemController($scope){$scope.props=$scope}app.controller("invM9Font.ItemController",ItemController)}(angular,InVision);;
//!file:items-view/detail-view/items/font.directive.js
!function(ng,app){"use strict";function FontDirective(fakeCssModuleCompiler){return{compile:fakeCssModuleCompiler("c-8dcebc"),controller:"invM9Font.ItemController",controllerAs:"vm",restrict:"E",scope:{item:"="},template:'\n<figure>\n	<div\n		class="preview"\n		ng-style="{\n			\'font-family\': props.item.metadata.fontFace\n		}">\n		<span class="text">\n			Aa Bb Cc Dd Ee Ff Gg Hh Ii Jj Kk Ll Mm Nn Oo Pp Qq Rr Ss Tt Uu Vv Ww Xx Yy Zz\n		</span>\n		<span class="text">\n			0123456789\n		</span>\n		<span class="text">\n			Grumpy wizards make toxic brew for the evil Queen and Jack.\n		</span>\n	</div>\n	<figcaption class="ids-text ids-break-word label">\n		<a\n			ng-href="{{ props.item.metadata.fileUrl }}"\n			target="_blank">\n			Download {{ props.item.metadata.clientFilename }}\n		</a>\n	</figcaption>\n</figure>\n'}}app.directive("invM9Font",FontDirective)}(angular,InVision);;
//!file:items-view/detail-view/items/image.controller.js
!function(ng,app){"use strict";function ItemController($element,$scope){function $onInit(){$scope.$watchGroup(["props.isShowingAside","props.isScaling","props.item"],handleProps)}function toggleLocalScaling(){vm.isScaling=!vm.isScaling,setViewportRect(),setScaler(),setScaledPx()}function asPx(value){return Math.floor(value)+"px"}function handleProps(newValue,oldValue){vm.isScaling=props.isScaling,setViewportRect(),setScaler(),setScaledPx()}function setScaledPx(){vm.scaledPx=Object.create(null),vm.scaledPx[props.item.metadata.width]=asPx(props.item.metadata.width*vm.scaler),vm.scaledPx[props.item.metadata.height]=asPx(props.item.metadata.height*vm.scaler),props.comments.forEach(function(comment){vm.scaledPx[comment.x]=asPx(comment.x*vm.scaler),vm.scaledPx[comment.y]=asPx(comment.y*vm.scaler)})}function setScaler(){if(vm.scaler=1,vm.viewportRect){var viewportWidth=vm.viewportRect.width,viewportHeight=vm.viewportRect.height,imageWidth=props.item.metadata.width,imageHeight=props.item.metadata.height;viewportWidth-=150,viewportHeight-=150,viewportWidth>=imageWidth&&viewportHeight>=imageHeight||(vm.scaler=Math.min(viewportWidth/imageWidth,viewportHeight/imageHeight))}}function setViewportRect(){return vm.isScaling?void(vm.viewportRect=$element.closest("[x-image-scaling-viewport]")[0].getBoundingClientRect()):void(vm.viewportRect=null)}var vm=this,props=$scope.props=$scope;vm.isScaling=!1,vm.viewportRect=null,vm.scaler=1,vm.scaledPx=null,vm.$onInit=$onInit,vm.toggleLocalScaling=toggleLocalScaling}app.controller("invM9Image.ItemController",ItemController)}(angular,InVision);;
//!file:items-view/detail-view/items/image.directive.js
!function(ng,app){"use strict";function ImageDirective(fakeCssModuleCompiler){return{compile:fakeCssModuleCompiler("c-07c93e"),controller:"invM9Image.ItemController",controllerAs:"vm",restrict:"E",scope:{item:"=",comments:"=",selectedCommentID:"=selectedCommentId",isShowingAside:"=",isScaling:"="},template:'\n<img\n	ng-src="{{ props.item.metadata.fileUrl }}"\n	ng-click="vm.toggleLocalScaling()"\n	class="preview"\n	ng-class="{\n		\'preview--can-grow\': vm.isScaling,\n		\'preview--can-shrink\': ! vm.isScaling\n	}"\n	ng-style="{\n		width: vm.scaledPx[ props.item.metadata.width ],\n		height: vm.scaledPx[ props.item.metadata.height ]\n	}"\n/>\n\n<span\n	ng-repeat="comment in props.comments track by comment.id"\n	class="annotation"\n	ng-class="{\n		\'annotation--selected\': ( comment.id === props.selectedCommentID )\n	}"\n	ng-style="{\n		left: vm.scaledPx[ comment.x ],\n		top: vm.scaledPx[ comment.y ]\n	}">\n	{{ comment.annotationLabel }}\n</span>\n'}}app.directive("invM9Image",ImageDirective)}(angular,InVision);;
//!file:items-view/detail-view/items/note.controller.js
!function(ng,app){"use strict";function ItemController($scope){$scope.props=$scope}app.controller("invM9Note.ItemController",ItemController)}(angular,InVision);;
//!file:items-view/detail-view/items/note.directive.js
!function(ng,app){"use strict";function NoteDirective(fakeCssModuleCompiler){return{compile:fakeCssModuleCompiler("c-8876f2"),controller:"invM9Note.ItemController",controllerAs:"vm",restrict:"E",scope:{item:"="},template:'\n<h3 class="ids-h3 ids-break-word">\n	{{ props.item.name }}\n</h3>\n\n<div\n	class="ids-text-size"\n	ng-bind-html="props.item.metadata.noteHtml">\n</div>\n'}}app.directive("invM9Note",NoteDirective)}(angular,InVision);;
//!file:items-view/items-view.controller.js
!function(ng,app){"use strict";function ViewController($scope,requestContext){function $onInit(){$scope.$on("requestContextChanged",handleRequestContextChanged),vm.subview=renderContext.getNextSection()}function handleRequestContextChanged(){renderContext.isChangeRelevant()&&(vm.subview=renderContext.getNextSection())}var vm=this,renderContext=requestContext.getRenderContext("items");vm.subview="",vm.$onInit=$onInit}app.controller("invM6ItemsView.ViewController",ViewController)}(angular,InVision);;
//!file:items-view/items-view.directive.js
!function(ng,app){"use strict";function ItemsViewDirective(fakeCssModuleCompiler){return{compile:fakeCssModuleCompiler("c-6ecd27"),controller:"invM6ItemsView.ViewController",controllerAs:"vm",restrict:"E",scope:!0,template:"\n<inv-m9-detail-view ng-if=\"( vm.subview === 'detail' )\"></inv-m9-detail-view>\n<inv-m8-list-view ng-if=\"( vm.subview === 'list' )\"></inv-m8-list-view>\n"}}app.directive("invM6ItemsView",ItemsViewDirective)}(angular,InVision);;
//!file:items-view/list-view/list-view.controller.js
!function(ng,app){"use strict";function ViewController($element,$location,$scope,_,appConfig,db,formatDate,formatNumber,requestContext,searchService,viewScroller,windowTitle){function $onInit(){$scope.$on("requestContextChanged",handleRequestContextChanged);var urlFilters=getFiltersFromUrlWithSaneDefaults();vm.filters.keywords=urlFilters.keywords,vm.filters.userID=urlFilters.userID,vm.filters.groupID=urlFilters.groupID,vm.filters.itemTypeID=urlFilters.itemTypeID,vm.filters.page=urlFilters.page,loadRemoteData(),viewScroller.scrollAll($element)}function applyForm(){$location.search("keywords",vm.form.keywords||null),$location.search("userID",vm.form.userOption.id||null),$location.search("groupID",vm.form.groupOption.id||null),$location.search("itemTypeID",vm.form.itemTypeOption.id||null),$location.search("page",null)}function applyPage(page){$location.search("page",page)}function clearForm(){$location.search("keywords",null),$location.search("userID",null),$location.search("groupID",null),$location.search("itemTypeID",null),$location.search("page",null)}function scrollToTop(){viewScroller.scrollAll($element)}function getFiltersFromUrlWithSaneDefaults(){var search=$location.search();return{keywords:search.keywords||"",userID:+search.userID||0,groupID:+search.groupID||0,itemTypeID:+search.itemTypeID||0,page:+search.page||1}}function handleRequestContextChanged(){if(renderContext.isChangeRelevant()||!requestContext.hasActionChanged()){var urlFilters=getFiltersFromUrlWithSaneDefaults();urlFilters.keywords!==vm.filters.keywords||urlFilters.userID!==vm.filters.userID||urlFilters.groupID!==vm.filters.groupID||urlFilters.itemTypeID!==vm.filters.itemTypeID?(vm.filters.keywords=urlFilters.keywords,vm.filters.userID=urlFilters.userID,vm.filters.groupID=urlFilters.groupID,vm.filters.itemTypeID=urlFilters.itemTypeID,vm.filters.page=urlFilters.page,setFormFiltered(),setResultsFiltered(),setPagination(),setWindowTitle()):urlFilters.page!==vm.filters.page&&(vm.filters.page=urlFilters.page,setFormFiltered(),setPagination(),setWindowTitle())}}function loadRemoteData(){vm.board=db.board,setForm(),setFormFiltered(),setResults(),setResultsFiltered(),setPagination(),setDateIndex(),setOverviewCount(),setStats(),setWindowTitle()}function setDateIndex(){vm.dateIndex=Object.create(null),vm.results.forEach(function(result){vm.dateIndex[result.item.updatedAt]=formatDate(result.item.updatedAt)})}function setForm(){vm.form.keywords="",vm.form.userOptions=[{id:0,value:" - All users - "}],vm.form.userOption=vm.form.userOptions[0],db.users.forEach(function(user){db.itemsByUserID[user.id]&&vm.form.userOptions.push({id:user.id,value:user.name+" <"+user.email+">"})}),vm.form.groupOptions=[{id:0,value:"- All groups -"}],vm.form.groupOption=vm.form.groupOptions[0],db.groups.forEach(function(group){db.itemsByGroupID[group.id]&&vm.form.groupOptions.push({id:group.id,value:group.name||"Untitled"})}),vm.form.itemTypeOptions=[{id:0,value:"- All types -"}],vm.form.itemTypeOption=vm.form.itemTypeOptions[0],db.itemTypes.forEach(function(type){db.itemsByItemTypeID[type.id]&&vm.form.itemTypeOptions.push({id:type.id,value:type.name})})}function setFormFiltered(){vm.form.keywords=vm.filters.keywords,vm.form.userOption=_.findWithProperty(vm.form.userOptions,"id",vm.filters.userID),vm.form.groupOption=_.findWithProperty(vm.form.groupOptions,"id",vm.filters.groupID),vm.form.itemTypeOption=_.findWithProperty(vm.form.itemTypeOptions,"id",vm.filters.itemTypeID),vm.form.page=vm.filters.page}function setOverviewCount(){vm.overviewCount=1===vm.results.length?"was 1 item":"were "+formatNumber(vm.results.length)+" items"}function setPagination(){var pageSize=25,pageCount=Math.ceil(vm.filteredResults.length/pageSize),pageNumber=vm.filters.page=_.clamp(vm.filters.page,1,pageCount),pageLinks=[],startIndex=(pageNumber-1)*pageSize,endIndex=startIndex+pageSize,results=vm.filteredResults.slice(startIndex,endIndex);if(pageCount>1)for(var i=1;pageCount>=i;i++)pageLinks.push({pageNumber:i,label:i});var resultsByGroup=[],group={id:-1,name:"",results:[]};results.forEach(function(result){result.group.id!==group.id&&(group={id:result.group.id,name:result.group.name,results:[]},resultsByGroup.push(group)),group.results.push(result)}),vm.pagination={pageSize:pageSize,pageCount:pageCount,pageNumber:pageNumber,pageLinks:pageLinks,results:results,resultsByGroup:resultsByGroup}}function setResults(){var noGroup={id:0,name:""},noType={id:0,name:""};vm.results=db.items.map(function(item){var user=db.usersByID[item.userID],keywords=searchService.normalizeInputs([item.name,item.description]),group=db.groupsByID[item.groupID]||noGroup,itemType=db.itemTypesByID[item.itemTypeID]||noType;return{keywords:keywords,user:user,item:item,itemType:itemType,group:group}})}function setResultsFiltered(){if(!(vm.filters.keywords||vm.filters.userID||vm.filters.groupID||vm.filters.itemTypeID))return void(vm.filteredResults=vm.results);var normalizedKeywords=searchService.normalize(vm.filters.keywords);vm.filteredResults=vm.results.filter(function(result){return vm.filters.userID&&vm.filters.userID!==result.user.id?!1:vm.filters.groupID&&vm.filters.groupID!==result.group.id?!1:vm.filters.itemTypeID&&vm.filters.itemTypeID!==result.itemType.id?!1:normalizedKeywords&&!_.includes(result.keywords,normalizedKeywords)?!1:!0})}function setStats(){vm.stats={commentCount:Object.create(null)},db.items.forEach(function(item){vm.stats.commentCount[item.id]=db.commentsByItemID[item.id]?formatNumber(db.commentsByItemID[item.id].length):0})}function setWindowTitle(){vm.filters.page>1?windowTitle.set("Items (page "+vm.filters.page+")"):windowTitle.set("Items")}var vm=this,renderContext=requestContext.getRenderContext("items.list");vm.board=null,vm.results=null,vm.filteredResults=null,vm.overviewCount=null,vm.dateIndex=null,vm.stats=null,vm.pagination=null,vm.filters={keywords:"",userID:0,groupID:0,itemTypeID:0,page:1},vm.form={keywords:"",userOption:null,userOptions:[],groupOption:null,groupOptions:[],itemTypeOption:null,itemTypeOptions:[],page:1},vm.$onInit=$onInit,vm.applyForm=applyForm,vm.applyPage=applyPage,vm.clearForm=clearForm,vm.scrollToTop=scrollToTop}app.controller("invM8ListView.ViewController",ViewController)}(angular,InVision);;
//!file:items-view/list-view/list-view.directive.js
!function(ng,app){"use strict";function ListViewDirective(fakeCssModuleCompiler){return{compile:fakeCssModuleCompiler("c-693c31"),controller:"invM8ListView.ViewController",controllerAs:"vm",restrict:"E",scope:!0,template:'\n<div class="ids-content-pane">\n\n	<h1 class="ids-h1">\n		Items\n	</h1>\n\n	<p class="ids-text">\n		At the time of the export, there {{ :: vm.overviewCount }} in {{ :: vm.board.name }}.\n	</p>\n\n	<form ng-submit="vm.applyForm()" class="ids-form-bar">\n		<div class="ids-form-bar__entry">\n			<label for="form--keywords-input" class="ids-form-bar__label">\n				Search:\n			</label>\n			<div class="ids-form-bar__body">\n				<input\n					id="form--keywords-input"\n					type="text"\n					ng-model="vm.form.keywords"\n					ng-model-options="{ debounce: 300 }"\n					ng-change="vm.applyForm()"\n					class="ids-input keywords-input"\n				/>\n			</div>\n		</div>\n		<div class="ids-form-bar__entry">\n			<label for="form--itemType" class="ids-form-bar__label">\n				Type:\n			</label>\n			<div class="ids-form-bar__body">\n				<ids-select\n					control-id="form--itemType"\n					ng-model="vm.form.itemTypeOption"\n					options="vm.form.itemTypeOptions"\n					option-label="value"\n					ng-change="vm.applyForm()"\n					class="type-input">\n				</ids-select>\n			</div>\n		</div>\n		<div class="ids-form-bar__entry">\n			<label for="form--group" class="ids-form-bar__label">\n				Group:\n			</label>\n			<div class="ids-form-bar__body">\n				<ids-select\n					control-id="form--group"\n					ng-model="vm.form.groupOption"\n					options="vm.form.groupOptions"\n					option-label="value"\n					ng-change="vm.applyForm()"\n					class="group-input">\n				</ids-select>\n			</div>\n		</div>\n		<div class="ids-form-bar__entry">\n			<label for="form--user" class="ids-form-bar__label">\n				User:\n			</label>\n			<div class="ids-form-bar__body">\n				<ids-select\n					control-id="form--user"\n					ng-model="vm.form.userOption"\n					options="vm.form.userOptions"\n					option-label="value"\n					ng-change="vm.applyForm()"\n					class="user-input">\n				</ids-select>\n			</div>\n		</div>\n		<div\n			ng-if="( vm.filters.keywords || vm.filters.userID || vm.filters.groupID || vm.filters.itemTypeID )"\n			class="ids-form-bar__buttons">\n			<button\n				type="button"\n				ng-click="vm.clearForm()"\n				class="ids-primary-button ids-primary-button--inline">\n				Clear\n			</button>\n		</div>\n	</form>\n\n	<table ng-if="vm.pagination.results.length" class="ids-table">\n	<thead>\n		<tr>\n			<th class="ids-table__th">\n				Name\n			</th>\n			<th class="ids-table__th" style="width: 1% ;">\n				Type\n			</th>\n			<th class="ids-table__th" style="width: 1% ;">\n				Version\n			</th>\n			<th class="ids-table__th" style="width: 1% ;">\n				Comments\n			</th>\n		</tr>\n	</thead>\n	<tbody ng-repeat="group in vm.pagination.resultsByGroup track by group.id">\n		<tr ng-if="group.id">\n			<th colspan="5" class="ids-table__body-th">\n				{{ group.name || "Untitled" }} ({{ group.results.length }})\n			</th>\n		</tr>\n		<tr ng-repeat="result in group.results track by result.item.id">\n			<td class="ids-table__td ids-table__td--no-padding">\n				<a ng-href="#/items/{{ :: result.item.id }}" class="ids-table__block">\n					{{ :: result.item.name }}\n				</a>\n			</td>\n			<td class="ids-table__td ids-table__td--nowrap">\n				{{ :: result.itemType.name }}\n			</td>\n			<td\n				class="ids-table__td ids-table__td--center"\n				ng-switch=":: ( !! result.item.metadata.fileVersion )">\n				<span ng-switch-when="true">\n					{{ :: result.item.metadata.fileVersion }}\n				</span>\n				<span ng-switch-when="false" class="no-count">\n					&mdash;\n				</span>\n			</td>\n			<td\n				class="ids-table__td ids-table__td--center"\n				ng-switch=":: ( !! vm.stats.commentCount[ result.item.id ] )">\n				<span ng-switch-when="true">\n					{{ :: vm.stats.commentCount[ result.item.id ] }}\n				</span>\n				<span ng-switch-when="false" class="no-count">\n					&mdash;\n				</span>\n			</td>\n		</tr>\n	</tbody>\n	</table>\n\n\n	<form ng-if="( vm.pagination.pageCount > 1 )" class="ids-form-bar">\n		<div class="ids-form-bar__entry">\n			<label for="form--page" class="ids-form-bar__label">\n				Page:\n			</label>\n			<div class="ids-form-bar__body">\n				<ids-select\n					control-id="form--page"\n					ng-model="vm.form.page"\n					options="vm.pagination.pageLinks"\n					option-key="pageNumber"\n					option-label="pageNumber"\n					ng-change="vm.applyPage( vm.form.page ); vm.scrollToTop()"\n					class="page-input">\n				</ids-select>\n			</div>\n		</div>\n		<div\n			class="ids-form-bar__buttons"\n			ng-switch="( vm.pagination.pageNumber < vm.pagination.pageCount )">\n			<button\n				ng-switch-when="true"\n				type="button"\n				ng-click="vm.applyPage( vm.pagination.pageNumber + 1 ); vm.scrollToTop()"\n				class="ids-primary-button ids-primary-button--inline">\n				Next &rarr;\n			</button>\n			<button\n				ng-switch-when="false"\n				type="button"\n				ng-click="vm.applyPage( 1 ); vm.scrollToTop()"\n				class="ids-primary-button ids-primary-button--inline">\n				Reset &circlearrowleft;\n			</button>\n		</div>\n	</form>\n\n\n	<ids-not-found ng-if="( ! vm.filteredResults.length )">\n		<h2 class="ids-h2">\n			No matches\n		</h2>\n		<p class="ids-p">\n			<a href="#/items/list">Clear filters</a>.\n		</p>\n	</ids-not-found>\n\n</div>\n'}}app.directive("invM8ListView",ListViewDirective)}(angular,InVision);;
//!file:overview-view/overview-view.controller.js
!function(ng,app){"use strict";function ViewController($element,$scope,_,appConfig,db,formatDate,formatNumber,viewScroller,windowTitle){function $onInit(){loadRemoteData(),viewScroller.scrollAll($element)}function loadRemoteData(){vm.board=db.board,vm.device=db.device,vm.company=db.company,setManagedBy(),setExportedBy(),setDateIndex(),setStats(),setWindowTitle()}function setDateIndex(){vm.dateIndex=Object.create(null),vm.dateIndex[vm.board.createdAt]=formatDate(vm.board.createdAt),vm.dateIndex[vm.board.exportedAt]=formatDate(vm.board.exportedAt)}function setExportedBy(){vm.exportedBy=db.usersByID[appConfig.authenticatedUserID]}function setManagedBy(){vm.managedBy=db.usersByID[vm.board.userID]}function setStats(){vm.stats=Object.create(null),vm.stats.peopleCount=1===db.memberships.length?formatNumber(db.memberships.length)+" member":formatNumber(db.memberships.length)+" members",vm.stats.itemCount=1===db.items.length?formatNumber(db.items.length)+" item":formatNumber(db.items.length)+" items",vm.stats.commentCount=1===db.comments.length?formatNumber(db.comments.length)+" comment":formatNumber(db.comments.length)+" comments"}function setWindowTitle(){windowTitle.set("Overview")}var vm=this;vm.board=null,vm.company=null,vm.managedBy=null,vm.exportedBy=null,vm.dateIndex=null,vm.stats=null,vm.showSuggestions=window.location.origin.endsWith(".invisionapp.com"),vm.$onInit=$onInit}app.controller("invM3OverviewView.ViewController",ViewController)}(angular,InVision);;
//!file:overview-view/overview-view.directive.js
!function(ng,app){"use strict";function OverviewViewDirective(fakeCssModuleCompiler){return{compile:fakeCssModuleCompiler("c-e47e23"),controller:"invM3OverviewView.ViewController",controllerAs:"vm",restrict:"E",scope:!0,template:'\n<div class="ids-content-pane">\n\n	<p ng-if="vm.showSuggestions" class="ids-text suggestions">\n		Have <strong>suggestions</strong> or <strong>feedback</strong> about the content in this export\n		&mdash;\n		please contact me at <strong><a href="mailto:ben@invisionapp.com" class="ids-link">ben@invisionapp.com</a></strong>.\n	</p>\n\n	<h1 class="ids-h1">\n		{{ :: vm.board.name }}\n	</h1>\n\n	<ul>\n		<li ng-if="vm.company.id">\n			<p class="ids-text export-item">\n				<strong>Enterprise:</strong>\n				{{ :: vm.company.name }}\n			</p>\n		</li>\n		<li>\n			<p class="ids-text export-item">\n				<strong>Managed by:</strong>\n				{{ :: vm.managedBy.name }} &lt;{{ :: vm.managedBy.email }}&gt;\n			</p>\n		</li>\n		<li>\n			<p class="ids-text export-item">\n				<strong>Created:</strong>\n				{{ :: vm.dateIndex[ vm.board.createdAt ] }}\n			</p>\n		</li>\n	</ul>\n\n	<ul>\n		<li>\n			<p class="ids-text export-item">\n				<strong>Exported by:</strong>\n				{{ :: vm.exportedBy.name }} &lt;{{ :: vm.exportedBy.email }}&gt;\n			</p>\n		</li>\n		<li>\n			<p class="ids-text export-item">\n				<strong>Exported:</strong>\n				{{ :: vm.dateIndex[ vm.board.exportedAt ] }}\n			</p>\n		</li>\n	</ul>\n\n	<h2 class="ids-h2">\n		What\'s in this export?\n	</h2>\n\n	<ul>\n		<li>\n			<p class="ids-text export-item">\n				<a href="#/people">{{ :: vm.stats.peopleCount }}</a> &rarr;\n			</p>\n		</li>\n		<li>\n			<p class="ids-text export-item">\n				<a href="#/items">{{ :: vm.stats.itemCount }}</a> &rarr;\n			</p>\n		</li>\n		<li>\n			<p class="ids-text export-item">\n				<a href="#/comments">{{ :: vm.stats.commentCount }}</a> &rarr;\n			</p>\n		</li>\n	</ul>\n\n</div>\n'}}app.directive("invM3OverviewView",OverviewViewDirective)}(angular,InVision);;
//!file:people-view/people-view.controller.js
!function(ng,app){"use strict";function ViewController($element,$location,$scope,_,db,formatNumber,requestContext,searchService,viewScroller,windowTitle){function $onInit(){$scope.$on("requestContextChanged",handleRequestContextChanged);var urlFilters=getFiltersFromUrlWithSaneDefaults();vm.filters.keywords=urlFilters.keywords,vm.filters.roleID=urlFilters.roleID,vm.filters.participationID=urlFilters.participationID,loadRemoteData(),viewScroller.scrollAll($element)}function applyForm(){$location.search("keywords",vm.form.keywords||null),$location.search("roleID",vm.form.roleOption.id||null),$location.search("participationID",vm.form.participationOption.id||null)}function clearForm(){$location.search("keywords",null),$location.search("roleID",null),$location.search("participationID",null)}function getFiltersFromUrlWithSaneDefaults(){var search=$location.search();return{keywords:search.keywords||"",roleID:+search.roleID||0,participationID:+search.participationID||0}}function handleRequestContextChanged(){if(renderContext.isChangeRelevant()||!requestContext.hasActionChanged()){var urlFilters=getFiltersFromUrlWithSaneDefaults();(urlFilters.keywords!==vm.filters.keywords||urlFilters.roleID!==vm.filters.roleID||urlFilters.participationID!==vm.filters.participationID)&&(vm.filters.keywords=urlFilters.keywords,vm.filters.roleID=urlFilters.roleID,vm.filters.participationID=urlFilters.participationID,setFormFiltered(),setResultsFiltered())}}function loadRemoteData(){vm.board=db.board,setForm(),setFormFiltered(),setStats(),setResults(),setResultsFiltered(),setOverviewCount(),setWindowTitle()}function setForm(){vm.form.keywords="",vm.form.roleOptions=[{id:0,value:" - All Roles - "}],vm.form.roleOption=vm.form.roleOptions[0],db.roles.forEach(function(role){vm.form.roleOptions.push({id:role.id,value:role.name})}),vm.form.participationOptions=[{id:0,value:" - All Participants - "},{id:1,value:"Active participants"}],vm.form.participationOption=vm.form.participationOptions[0]}function setFormFiltered(){vm.form.keywords=vm.filters.keywords,vm.form.roleOption=_.findWithProperty(vm.form.roleOptions,"id",vm.filters.roleID)||_.first(vm.form.roleOptions),vm.form.participationOption=_.findWithProperty(vm.form.participationOptions,"id",vm.filters.participationID)||_.first(vm.form.participationOptions)}function setOverviewCount(){vm.overviewCount=1===vm.results.length?"was 1 member":"were "+formatNumber(vm.results.length)+" members"}function setResults(){vm.results=db.memberships.map(function(membership){var user=db.usersByID[membership.userID],sort=user.name.toLowerCase(),keywords=searchService.normalizeInputs([user.name,user.email]);return{sort:sort,keywords:keywords,user:user,membership:membership}}),vm.results=_.sortOnPropertyUsingNaturalOrder(vm.results,"sort")}function setResultsFiltered(){if(!vm.filters.keywords&&!vm.filters.roleID&&!vm.filters.participationID)return void(vm.filteredResults=vm.results);var normalizedKeywords=searchService.normalize(vm.filters.keywords);vm.filteredResults=vm.results.filter(function(result){return vm.filters.roleID&&vm.filters.roleID!==result.membership.role.id?!1:!vm.filters.participationID||vm.stats.itemCount[result.user.id]||vm.stats.commentCount[result.user.id]?normalizedKeywords&&!_.includes(result.keywords,normalizedKeywords)?!1:!0:!1})}function setStats(){vm.stats={itemCount:Object.create(null),commentCount:Object.create(null)},db.memberships.forEach(function(membership){var userID=membership.userID;vm.stats.itemCount[userID]=db.itemsByUserID[userID]?formatNumber(db.itemsByUserID[userID].length):0,vm.stats.commentCount[userID]=db.commentsByUserID[userID]?formatNumber(db.commentsByUserID[userID].length):0})}function setWindowTitle(){windowTitle.set("People")}var vm=this,renderContext=requestContext.getRenderContext("people");vm.board=null,vm.results=null,vm.filteredResults=null,vm.overviewCount=null,vm.stats=null,vm.filters={keywords:"",roleID:0,participationID:0},vm.form={keywords:"",roleOption:null,roleOptions:[],participationOption:null,participationOptions:[]},vm.$onInit=$onInit,vm.applyForm=applyForm,vm.clearForm=clearForm}app.controller("invM4PeopleView.ViewController",ViewController)}(angular,InVision);;
//!file:people-view/people-view.directive.js
!function(ng,app){"use strict";function PeopleViewDirective(fakeCssModuleCompiler){return{compile:fakeCssModuleCompiler("c-c19acd"),controller:"invM4PeopleView.ViewController",controllerAs:"vm",restrict:"E",scope:!0,template:'\n<div class="ids-content-pane">\n\n	<h1 class="ids-h1">\n		People\n	</h1>\n\n	<p class="ids-text">\n		At the time of the export, there {{ :: vm.overviewCount }} in {{ :: vm.board.name }}.\n	</p>\n\n	<form ng-sumbit="vm.applyForm()" class="ids-form-bar">\n		<div class="ids-form-bar__entry">\n			<label for="form--keywords" class="ids-form-bar__label">\n				Search:\n			</label>\n			<div class="ids-form-bar__body">\n				<input\n					id="form--keywords"\n					type="text"\n					ng-model="vm.form.keywords"\n					ng-model-options="{ debounce: 300 }"\n					ng-change="vm.applyForm()"\n					class="ids-input keywords-input"\n				/>\n			</div>\n		</div>\n		<div class="ids-form-bar__entry">\n			<label for="form--role" class="ids-form-bar__label">\n				Role:\n			</label>\n			<div class="ids-form-bar__body">\n				<ids-select\n					control-id="form--role"\n					ng-model="vm.form.roleOption"\n					options="vm.form.roleOptions"\n					option-label="value"\n					ng-change="vm.applyForm()"\n					class="role-input">\n				</ids-select>\n			</div>\n		</div>\n		<div class="ids-form-bar__entry">\n			<label for="form--participation" class="ids-form-bar__label">\n				Participation:\n			</label>\n			<div class="ids-form-bar__body">\n				<ids-select\n					control-id="form--participation"\n					ng-model="vm.form.participationOption"\n					options="vm.form.participationOptions"\n					option-label="value"\n					ng-change="vm.applyForm()"\n					class="participation-input">\n				</ids-select>\n			</div>\n		</div>\n		<div\n			ng-if="( vm.filters.keywords || vm.filters.roleID || vm.filters.participationID )"\n			class="ids-form-bar__buttons">\n			<button\n				type="button"\n				ng-click="vm.clearForm()"\n				class="ids-primary-button ids-primary-button--inline">\n				Clear\n			</button>\n		</div>\n	</form>\n\n	<table ng-if="vm.filteredResults.length" class="ids-table">\n	<thead>\n		<tr>\n			<th class="ids-table__th">\n				Name\n			</th>\n			<th class="ids-table__th">\n				Email\n			</th>\n			<th class="ids-table__th">\n				Role\n			</th>\n			<th class="ids-table__th" style="width: 1% ;">\n				Items\n			</th>\n			<th class="ids-table__th" style="width: 1% ;">\n				Comments\n			</th>\n		</tr>\n	</thead>\n	<tbody>\n		<tr ng-repeat="result in vm.filteredResults track by result.membership.id">\n			<td class="ids-table__td">\n				{{ :: result.user.name }}\n			</td>\n			<td class="ids-table__td">\n				{{ :: result.user.email }}\n			</td>\n			<td class="ids-table__td">\n				{{ :: result.membership.role.name }}\n			</td>\n			<td\n				class="ids-table__td ids-table__td--no-padding ids-table__td--center"\n				ng-switch=":: ( !! vm.stats.itemCount[ result.user.id ] )">\n				<a\n					ng-switch-when="true"\n					ng-href="#/items?userID={{ :: result.user.id }}"\n					class="ids-table__block">\n					{{ :: vm.stats.itemCount[ result.user.id ] }}\n				</a>\n				<span ng-switch-when="false" class="ids-table__block no-count">\n					&mdash;\n				</span>\n			</td>\n			<td\n				class="ids-table__td ids-table__td--no-padding ids-table__td--center"\n				ng-switch=":: ( !! vm.stats.commentCount[ result.user.id ] )">\n				<a\n					ng-switch-when="true"\n					ng-href="#/comments?userID={{ :: result.user.id }}"\n					class="ids-table__block">\n					{{ :: vm.stats.commentCount[ result.user.id ] }}\n				</a>\n				<span ng-switch-when="false" class="ids-table__block no-count">\n					&mdash;\n				</span>\n			</td>\n		</tr>\n	</tbody>\n	</table>\n\n\n	<ids-not-found ng-if="( ! vm.filteredResults.length )">\n		<h2 class="ids-h2">\n			No matches\n		</h2>\n		<p class="ids-p">\n			<a href="#/people">Clear filters</a>.\n		</p>\n	</ids-not-found>\n\n</div>\n'}}app.directive("invM4PeopleView",PeopleViewDirective)}(angular,InVision);;
//!file:redirect-view/redirect-view.controller.js
!function(ng,app){"use strict";function ViewController($element,$location,_,viewScroller,windowTitle){function $onInit(){return vm.externalUrl=$location.search().externalUrl||"",vm.sourceUrl=$location.search().sourceUrl||"",-1===vm.externalUrl.search(/^https?:\/\//i)||"/"!=vm.sourceUrl[0]?($location.replace(),void $location.url("/")):(setWindowTitle(),void viewScroller.scrollAll($element))}function returnToSource(){$location.url(vm.sourceUrl||"/")}function setWindowTitle(){windowTitle.set("Redirect")}var vm=this;vm.externalUrl=null,vm.sourceUrl=null,vm.$onInit=$onInit,vm.returnToSource=returnToSource}app.controller("invM11RedirectView.ViewController",ViewController)}(angular,InVision);;
//!file:redirect-view/redirect-view.directive.js
!function(ng,app){"use strict";function RedirectViewDirective(fakeCssModuleCompiler){return{compile:fakeCssModuleCompiler("c-3db177"),controller:"invM11RedirectView.ViewController",controllerAs:"vm",restrict:"E",scope:!0,template:'\n<div class="ids-content-pane">\n\n	<h1 class="ids-h1">\n		Redirect to an External URL\n	</h1>\n\n	<p class="ids-text">\n		You clicked on a link that wants to take you to an <strong>external site</strong>. Are you sure you want to proceed to the following URL?\n	</p>\n\n	<p class="ids-text">\n		<strong>Yes:</strong>\n		<a ng-href="{{ vm.externalUrl }}" ng-click="vm.returnToSource()" target="_blank" class="link">{{ vm.externalUrl }}</a>\n	</p>\n\n	<p class="ids-text">\n		<strong>No:</strong>\n		<a ng-href="#{{ vm.sourceUrl }}">Back to board</a> &rarr;\n	</p>\n\n</div>\n'}}app.directive("invM11RedirectView",RedirectViewDirective)}(angular,InVision);;
//!file:shared/auto-linker.directive.js
!function(ng,app){"use strict";function AutoLinkerDirective($location,_){function link(scope,element,attributes){function handleDestroy(){clearTimeout(timer)}function injectLinks(){var tokenPattern=/::placeholder::\d+::\d+::/g,tokenPrefix="::placeholder::"+Date.now()+"::",tokenSuffix="::",tokenCounter=0,placeholders=Object.create(null),result=element.text().replace(/(?:(\bhttps?:\/\/)|(\bwww\d{0,3}\.))(\S+)/gi,function($0,withProtocol,withoutProcol,urlSuffix){var lastLetter=urlSuffix.slice(-1),removeLastLetter=!1,trailing="";switch(lastLetter){case"?":case".":case",":case"'":case'"':case"“":case"”":case"‘":case"’":case"`":case"!":case";":removeLastLetter=!0;break;case")":removeLastLetter=isUnbalanced(urlSuffix,"(",")");break;case"]":removeLastLetter=isUnbalanced(urlSuffix,"[","]");break;case">":removeLastLetter=isUnbalanced(urlSuffix,"<",">")}removeLastLetter&&(trailing=lastLetter,urlSuffix=urlSuffix.slice(0,-1));var linkText=(withProtocol||withoutProcol)+urlSuffix,linkHref=withProtocol?withProtocol+urlSuffix:"http://"+withoutProcol+urlSuffix,token=tokenPrefix+ ++tokenCounter+tokenSuffix;return placeholders[token]=document.createElement("A"),placeholders[token].textContent=linkText,placeholders[token].href="#/redirect?externalUrl="+encodeURIComponent(linkHref)+"&sourceUrl="+encodeURIComponent($location.url()),token+trailing});if(tokenCounter){var html=element.text(result).html().replace(tokenPattern,function(token){return placeholders[token].outerHTML});element.html(html)}}function isUnbalanced(text,openChar,closeChar){for(var openCount=0,closeCount=0,i=0;i<text.length;i++)switch(text[i]){case openChar:openCount++;break;case closeChar:closeCount++}return openCount!=closeCount}var timer=setTimeout(injectLinks,750);scope.$on("$destroy",handleDestroy)}return{link:link,restrict:"A"}}app.directive("invAutoLinker",AutoLinkerDirective)}(angular,InVision);;
//!file:shared/ids/empty-state/not-found.directive.js
!function(ng,app){"use strict";function NotFoundDirective(appConfig,fakeCssModuleCompiler){function link(scope,element,attributes){scope.imgFolder=appConfig.publicDirectory+"/img"}return{compile:fakeCssModuleCompiler("c-11a9a0",link),restrict:"E",scope:!0,template:'\n<div class="left-panel">\n	<img\n		ng-src="{{ imgFolder }}/not-found.svg"\n		class="illustration"\n	/>\n</div>\n<div class="right-panel" ng-transclude>\n	<!-- Content projection. -->\n</div>\n',transclude:!0}}app.directive("idsNotFound",NotFoundDirective)}(angular,InVision);;
//!file:shared/ids/select/select.controller.js
!function(ng,app){"use strict";function SelectController($scope){function $onInit(){vm.controlID=props.controlId||"ids-select-"+ ++instanceCounter}function onChange(){vm.externalNgModelController&&vm.internalNgModel!==vm.externalNgModelController.$viewValue&&vm.externalNgModelController.$setViewValue(vm.internalNgModel)}function setNgModelController(externalNgModelController){vm.externalNgModelController=externalNgModelController,vm.externalNgModelController.$render=function(){vm.internalNgModel=vm.externalNgModelController.$viewValue}}var vm=this,props=$scope.props=$scope;vm.controlID=null,vm.externalNgModelController=null,vm.internalNgModel=!1,vm.$onInit=$onInit,vm.onChange=onChange,vm.setNgModelController=setNgModelController}app.controller("idsSelect.SelectController",SelectController);var instanceCounter=0}(angular,InVision);;
//!file:shared/ids/select/select.directive.js
!function(ng,app){"use strict";function SelectDirective(fakeCssModuleCompiler){function link(scope,element,attributes,controllers){controllers[0].setNgModelController(controllers[1])}return{compile:fakeCssModuleCompiler("c-942d38",link),controller:"idsSelect.SelectController",controllerAs:"vm",require:["idsSelect","ngModel"],restrict:"E",scope:{controlId:"@",name:"@",options:"=",optionKey:"@",optionLabel:"@",nullOption:"@"},template:'\n<!-- Using an option property ("key") as the ngModel value. -->\n<select\n	ng-if="props.optionKey"\n	id="{{ vm.controlID }}"\n	ng-model="vm.internalNgModel"\n	ng-options="option[ props.optionKey ] as option[ props.optionLabel ] for option in props.options"\n	ng-change="vm.onChange()"\n	class="input">\n	<option ng-if="props.nullOption" value="">{{ props.nullOption }}</option>\n</select>\n\n<!-- Using the option reference itself as the ngModel value. -->\n<select\n	ng-if="( ! props.optionKey )"\n	id="{{ vm.controlID }}"\n	ng-model="vm.internalNgModel"\n	ng-options="option[ props.optionLabel ] for option in props.options"\n	ng-change="vm.onChange()"\n	class="input">\n	<option ng-if="props.nullOption" value="">{{ props.nullOption }}</option>\n</select>\n\n<span class="carrot"></span>\n',transclude:!0}}app.directive("idsSelect",SelectDirective)}(angular,InVision);;
//!file:shared/ids/switch/switch.controller.js
!function(ng,app){"use strict";function SwitchController($scope){$scope.props=$scope}app.controller("idsSwitch.SwitchController",SwitchController)}(angular,InVision);;
//!file:shared/ids/switch/switch.directive.js
!function(ng,app){"use strict";function SwitchDirective(fakeCssModuleCompiler){return{compile:fakeCssModuleCompiler("c-7a4fc7"),controller:"idsSwitch.SwitchController",controllerAs:"vm",restrict:"E",scope:{isOn:"="},template:'\n<div class="track" ng-class="{ active: props.isOn }">\n	<span class="thumb"></span>\n</div>\n'}}app.directive("idsSwitch",SwitchDirective)}(angular,InVision);;
//!file:sprite-sheet.directive.js
!function(ng,app){"use strict";function SpriteSheetDirective(fakeCssModuleCompiler){return{compile:fakeCssModuleCompiler("c-e7209a"),restrict:"E",scope:!0,template:'<svg>\n	<!--\n		Helio design system icons:\n		https://invisionapp.github.io/helios-design-system/?path=/story/foundations-icons--page\n	-->\n	<symbol id="svg-sprite-boards" viewBox="0 0 24 24">\n		<g fill="none" fill-rule="evenodd" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">\n			<polygon stroke="#1D1D1F" points="5.5 12.5 12.5 12.5 12.5 19.5 5.5 19.5"/>\n			<polygon stroke="#1D1D1F" points="12.5 10.5 18.5 10.5 18.5 19.5 12.5 19.5"/>\n			<polygon stroke="#1D1D1F" points="5.5 4.5 12.5 4.5 12.5 12.5 5.5 12.5"/>\n			<polygon stroke="#1D1D1F" points="12.5 4.5 18.5 4.5 18.5 10.5 12.5 10.5"/>\n		</g>\n	</symbol>\n	<symbol id="svg-sprite-close" viewBox="0 0 24 24">\n		<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12,5 L12,19 M5,12 L19,12" transform="rotate(45 12 12)" />\n	</symbol>\n	<symbol id="svg-sprite-comment" viewBox="0 0 24 24">\n		<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M5.08342857,16.0170495 C4.37714286,14.8083179 4,13.431802 4,11.999358 C4,7.58674561 7.58171429,4.00963048 12,4.00963048 C16.4182857,4.00963048 20,7.58674561 20,11.999358 C20,16.4119703 16.4182857,19.9890855 12,19.9890855 L7.93714286,19.9890855 L4,20.0096305 L5.08342857,16.0170495 Z" />\n	</symbol>\n	<symbol id="svg-sprite-heart" viewBox="0 0 24 24">\n		<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M21,9.11370411 C21,6.24757057 18.6553371,4 15.7028575,4 C14.4081609,4 13.1186211,4.67591361 12,5.73518712 C10.881378,4.67591361 9.59184004,4 8.29714246,4 C5.34466389,4 3,6.24757057 3,9.11370411 C3,10.1428615 3.28502263,11.131036 3.84550144,12.1266122 C4.50949712,13.3060645 7.22621799,15.9305272 11.995664,20 C16.7772373,15.9244207 19.4991806,13.2958824 20.161494,12.1143851 C20.7173492,11.1227952 21,10.13854 21,9.11370411 Z"/>\n	</symbol>\n	<symbol id="svg-sprite-heart-filled" viewBox="0 0 24 24">\n		<path d="M21 9.114C21 6.248 18.655 4 15.703 4c-1.295 0-2.584.676-3.703 1.735C10.881 4.675 9.592 4 8.297 4 5.345 4 3 6.248 3 9.114c0 1.029.285 2.017.846 3.013.663 1.18 3.38 3.804 8.15 7.873 4.781-4.076 7.503-6.704 8.165-7.886.556-.991.839-1.975.839-3Z" stroke="currentColor" stroke-width="1.5" fill="currentColor" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"/>\n	</symbol>\n	<symbol id="svg-sprite-home" viewBox="0 0 24 24">\n		<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M14.5,19.5 L19.5,19.5 L19.5,9.71428571 L12,4.5 L4.5,9.5 L4.5,19.5 L9.5,19.5 M14.5,19.5 L14.5,15.5 C14.5,14.1728871 13.2633233,13.1428571 12,13.1428571 C10.7387718,13.1428571 9.5,14.1728871 9.5,15.5 L9.5,19.5" />\n	</symbol>\n	<symbol id="svg-sprite-list" viewBox="0 0 24 24">\n		<g fill="none" fill-rule="evenodd" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" transform="translate(4 8)">\n			<line x2="16" y1="7.5" y2="7.5"/>\n			<line x2="16" y1=".5" y2=".5"/>\n		</g>\n	</symbol>\n	<symbol id="svg-sprite-logo" viewBox="0 0 32 32">\n		<path fill="currentColor" fill-rule="evenodd" d="M32,0 L0,0 L0,32 L32,32 L32,0 Z M24.084,15.344 C24.084,13.225 22.773,12.12 21.184,12.12 C19.697,12.12 18.183,13.431 17.427,14.811 L17.982,12.334 L13.67,12.334 L13.065,14.516 L15.082,14.516 L13.84,19.375 C12.864,21.494 11.072,21.529 10.847,21.48 C10.478,21.398 10.242,21.261 10.242,20.792 C10.242,20.522 10.292,20.133 10.418,19.665 L12.31,12.334 L7.519,12.334 L6.914,14.516 L8.905,14.516 L7.619,19.649 C7.519,20.068 7.468,20.52 7.468,20.889 C7.468,22.343 8.275,23.309 9.99,23.309 C11.412,23.309 12.565,22.483 13.395,21.151 L12.888,23.139 L15.712,23.139 L17.326,16.813 C17.73,15.212 18.511,14.38 19.697,14.38 C20.63,14.38 21.21,14.947 21.21,15.883 C21.21,16.155 21.184,16.45 21.084,16.77 L20.251,19.678 C20.125,20.097 20.075,20.516 20.075,20.91 C20.075,22.29 20.907,23.3 22.647,23.3 C24.135,23.3 25.32,22.364 25.975,20.122 L24.866,19.703 C24.311,21.205 23.832,21.477 23.454,21.477 C23.076,21.477 22.874,21.231 22.874,20.738 C22.874,20.516 22.924,20.27 23,19.974 L23.807,17.141 C24.009,16.476 24.084,15.886 24.084,15.344 Z M12.89,9.157 C12.89,8.221 12.108,7.506 11.175,7.506 C10.242,7.506 9.46,8.221 9.46,9.157 C9.46,10.093 10.242,10.808 11.175,10.808 C12.108,10.808 12.89,10.093 12.89,9.157 Z" />\n	</symbol>\n	<symbol id="svg-sprite-navigate-left" viewBox="0 0 24 24">\n		<polyline fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" points="6 9 12 15 18 9" transform="rotate(90 12 12)" />\n	</symbol>\n	<symbol id="svg-sprite-navigate-right" viewBox="0 0 24 24">\n		<polyline fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" points="6 9 12 15 18 9" transform="rotate(-90 12 12)" />\n	</symbol>\n	<symbol id="svg-sprite-search" viewBox="0 0 24 24">\n		<g fill="none" fill-rule="evenodd" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" transform="translate(4 4)">\n			<circle cx="7" cy="7" r="7" />\n			<line x1="12" x2="16" y1="12" y2="16" />\n		</g>\n	</symbol>\n	<symbol id="svg-sprite-teams" viewBox="0 0 24 24">\n		<path fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round" stroke="currentColor" stroke-width="1.5" d="M16 11C17.9329966 11 19.5 9.43299662 19.5 7.5 19.5 5.56700338 17.9329966 4 16 4 14.0670034 4 12.5 5.56700338 12.5 7.5 12.5 9.43299662 14.0670034 11 16 11zM10.5810053 4.37659049C10.1061189 4.13573638 9.56891091 4 9 4 7.06700338 4 5.5 5.56700338 5.5 7.5 5.5 9.43299662 7.06700338 11 9 11 9.59402279 11 10.1534821 10.8520163 10.6435232 10.5909036M10 20.5C10 17.1862915 12.6862915 14.5 16 14.5 19.3137085 14.5 22 17.1862915 22 20.5M3 20.5C3 17.1862915 5.6862915 14.5 9 14.5" />\n	</symbol>\n</svg>\n'}}app.directive("invM0SpriteSheet",SpriteSheetDirective)}(angular,InVision);;
//!file:thank-you-view/thank-you-view.controller.js
!function(ng,app){"use strict";function ViewController($element,$scope,appConfig,viewScroller,windowTitle){function $onInit(){setWindowTitle(),viewScroller.scrollAll($element)}function updateButtonAction(){$element.find(".download__button").attr("download","board-"+appConfig.board.id+".json").attr("href","data:application/x-json;charset=utf-8,"+encodeURIComponent(JSON.stringify(appConfig)))}function setWindowTitle(){windowTitle.set("Thank You")}var vm=this;vm.$onInit=$onInit,vm.updateButtonAction=updateButtonAction}app.controller("invM2ThankYouView.ViewController",ViewController)}(angular,InVision);;
//!file:thank-you-view/thank-you-view.directive.js
!function(ng,app){"use strict";function ThankYouViewDirective(fakeCssModuleCompiler){return{compile:fakeCssModuleCompiler("c-e57eab"),controller:"invM2ThankYouView.ViewController",controllerAs:"vm",restrict:"E",scope:!0,template:'\n<div class="ids-content-pane">\n\n	<h1 class="ids-h1">\n		Thank You For Everything\n	</h1>\n\n	<p class="ids-text">\n		In 2011, we founded InVision because we believed in a better, more holistic way of designing products.\n	</p>\n\n	<p class="ids-text">\n		We believed that collaboration, experimentation, and feedback loops were fundamentally important to the design process.\n	</p>\n\n	<p class="ids-text">\n		We used boards as a means to bring people and organizations together.\n	</p>\n\n	<p class="ids-text">\n		We loved taking this journey with you.\n	</p>\n\n	<p class="ids-text">\n		It\'s been a true honor.\n	</p>\n\n	<p class="ids-text">\n		&mdash; InVision Team\n	</p>\n\n	<div class="download">\n		<a\n			ng-click="vm.updateButtonAction()"\n			class="ids-primary-button ids-primary-button--dark download__button">\n			Export data as JSON file\n		</a>\n		<p class="ids-text download__note">\n			This may take a minute depending on your board size.\n		</p>\n	</div>\n\n	<p class="ids-text epilogue">\n		If you need help processing this data after InVision has closed, feel free to contact me at <a href="mailto:ben@bennadel.com">ben@bennadel.com</a>; or <a href="https://www.linkedin.com/in/bennadel/" target="_blank">connect with me</a> on LinkedIn.\n	</p>\n\n</div>\n'}}app.directive("invM2ThankYouView",ThankYouViewDirective)}(angular,InVision);;
//!file:db.service.js
!function(ng,app){"use strict";function DBFactory(_,appConfig){function buildItemTypes(){var lookup=appConfig.boardSettings.itemTypes;return[{id:lookup.colorSwatch,handle:"colorSwatch",name:"Color Swatch"},{id:lookup.document,handle:"document",name:"Document"},{id:lookup.font,handle:"font",name:"Font"},{id:lookup.generic,handle:"generic",name:"Generic"},{id:lookup.image,handle:"image",name:"Image"},{id:lookup.media,handle:"media",name:"Media"},{id:lookup.note,handle:"note",name:"Note"},{id:lookup.sourceFile,handle:"sourceFile",name:"Source File"}]}function buildRoles(){var allRoles=_.sortOnProperty(_.pluck(appConfig.memberships,"role"),"id");return _.uniq(allRoles,"id")}var roles=buildRoles(),itemTypes=buildItemTypes();return{board:appConfig.board,company:appConfig.company,memberships:appConfig.memberships,headerImage:appConfig.headerImage,items:appConfig.items,itemsByID:_.indexBy(appConfig.items,"id"),itemsByUserID:_.groupBy(appConfig.items,"userID"),itemsByItemTypeID:_.groupBy(appConfig.items,"itemTypeID"),itemsByGroupID:_.groupBy(appConfig.items,"groupID"),itemTypes:itemTypes,itemTypesByID:_.indexBy(itemTypes,"id"),groups:appConfig.groups,groupsByID:_.indexBy(appConfig.groups,"id"),comments:appConfig.comments,commentsByUserID:_.groupBy(appConfig.comments,"userID"),commentsByItemID:_.groupBy(appConfig.comments,"itemID"),users:appConfig.users,usersByID:_.indexBy(appConfig.users,"id"),roles:roles,rolesByID:_.indexBy(roles,"id")}}app.factory("db",DBFactory)}(angular,InVision);;
//!file:fake-css-compiler.service.js
!function(ng,app){"use strict";function fakeCssModuleCompiler(cssModuleName,link){function compileDirective(tElement,tAttributes){return tElement.addClass(cssModuleName).attr(cssModuleName,""),angular.forEach(tElement.find("*"),function(tChild){tChild.setAttribute(cssModuleName,"")}),link||void 0}return compileDirective}app.value("fakeCssModuleCompiler",fakeCssModuleCompiler)}(angular,InVision);;
//!file:filename-helper.js
!function(ng,app){"use strict";function FilenameHelperFactory(_){function getFileExtension(input,maxLength){var parts=input.toLowerCase().split(".");return 1===parts.length?"":_.last(parts).replace(/[^a-z0-9]+/g,"").slice(0,maxLength||15)}return{getFileExtension:getFileExtension}}app.factory("filenameHelper",FilenameHelperFactory)}(angular,InVision);;
//!file:format.service.js
!function(ng,app){"use strict";function FormatNumberFactory($filter){return $filter("number")}function FormatDateFactory(dateHelper){return function(value){return dateHelper.formatDate(value,"yyyy-mm-dd")}}app.factory("formatNumber",FormatNumberFactory),app.factory("formatDate",FormatDateFactory)}(angular,InVision);;
//!file:key-commands-priority.service.js
!function(ng,app){"use strict";app.value("keyCommandsPriority",{APP:-1,MAIN:100})}(angular,InVision);;
//!file:search.service.js
!function(ng,app){"use strict";function SearchServiceFactory(){function normalize(input){return input.toLowerCase().replace(/[\s'".\-]+/g,"")}function normalizeInputs(inputs){return inputs.map(normalize).join("|")}return{normalize:normalize,normalizeInputs:normalizeInputs}}app.factory("searchService",SearchServiceFactory)}(angular,InVision);;
//!file:title.service.js
!function(ng,app){"use strict";function WindowTitleFactory(db){function set(title){document.title=title+" - "+db.board.name+" - InVision"}return{set:set}}app.factory("windowTitle",WindowTitleFactory)}(angular,InVision);;
//!file:view-scroller.service.js
!function(ng,app){"use strict";function ViewScrollerFactory(){function scroll(element){ng.element(element)[0].scrollTo(0,0)}function scrollAll(element){for(var node=ng.element(element)[0];node;){if(node.scrollTop&&node.scrollTo&&node.scrollTo(0,0),node===document.body)return;node=node.parentElement}}function scrollIntoView(element,behavior,block,inline){var node=ng.element(element)[0];node&&node.scrollIntoView({behavior:behavior||"smooth",block:block||"center",inline:inline||"center"})}return{scroll:scroll,scrollAll:scrollAll,scrollIntoView:scrollIntoView}}app.factory("viewScroller",ViewScrollerFactory)}(angular,InVision);